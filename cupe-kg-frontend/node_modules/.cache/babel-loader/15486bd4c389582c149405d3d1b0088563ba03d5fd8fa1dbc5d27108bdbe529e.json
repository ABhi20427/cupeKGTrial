{"ast":null,"code":"// components/LocationMarker/LocationMarker.jsx\nimport React,{useEffect,useState}from'react';import{Marker,Tooltip}from'react-leaflet';import L from'leaflet';import'./LocationMarker.css';// Fix for default marker icon in React-Leaflet\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";delete L.Icon.Default.prototype._getIconUrl;L.Icon.Default.mergeOptions({iconRetinaUrl:'https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon-2x.png',iconUrl:'https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon.png',shadowUrl:'https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png'});const LocationMarker=_ref=>{let{location,isSelected,onClick}=_ref;const[isHovered,setIsHovered]=useState(false);const[markerRef,setMarkerRef]=useState(null);// Create custom icon based on location category and state\nconst getCustomIcon=()=>{const size=isSelected?48:isHovered?40:32;// Define colors for different categories\nconst colors={historical:'#E91E63',// Pink\ncultural:'#4CAF50',// Green\nreligious:'#FFC107',// Amber\ndefault:'#2196F3'// Blue\n};const color=colors[location.category]||colors.default;return L.divIcon({className:`custom-marker ${isSelected?'selected':''} ${isHovered?'hovered':''}`,html:`\n        <div class=\"marker-container\" style=\"width: ${size}px; height: ${size}px;\">\n          <svg viewBox=\"0 0 24 24\" width=\"${size}\" height=\"${size}\">\n            <path fill=\"${color}\" d=\"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z\"/>\n          </svg>\n          ${isSelected||isHovered?`<div class=\"marker-pulse\" style=\"border-color: ${color}\"></div>`:''}\n        </div>\n      `,iconSize:[size,size],iconAnchor:[size/2,size]});};useEffect(()=>{// Apply animations when selection state changes\nif(markerRef){if(isSelected){markerRef._icon.classList.add('bounce-animation');setTimeout(()=>{if(markerRef._icon){markerRef._icon.classList.remove('bounce-animation');}},1000);}}},[isSelected,markerRef]);const handleMarkerClick=()=>{// Make sure this function is called and passing the location\nconsole.log(\"Marker clicked:\",location.name);onClick(location);};return/*#__PURE__*/_jsx(Marker,{position:[location.coordinates.lat,location.coordinates.lng],icon:getCustomIcon(),eventHandlers:{click:handleMarkerClick,mouseover:()=>setIsHovered(true),mouseout:()=>setIsHovered(false)},ref:ref=>setMarkerRef(ref),children:/*#__PURE__*/_jsx(Tooltip,{direction:\"top\",offset:[0,-20],opacity:0.9,permanent:isSelected||isHovered,className:`location-tooltip ${isSelected?'selected':''}`,children:/*#__PURE__*/_jsxs(\"div\",{className:\"tooltip-content\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"location-name\",children:location.name}),isSelected&&/*#__PURE__*/_jsx(\"span\",{className:\"location-hint\",children:\"Click for details\"})]})})});};export default LocationMarker;","map":{"version":3,"names":["React","useEffect","useState","Marker","Tooltip","L","jsx","_jsx","jsxs","_jsxs","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","iconUrl","shadowUrl","LocationMarker","_ref","location","isSelected","onClick","isHovered","setIsHovered","markerRef","setMarkerRef","getCustomIcon","size","colors","historical","cultural","religious","default","color","category","divIcon","className","html","iconSize","iconAnchor","_icon","classList","add","setTimeout","remove","handleMarkerClick","console","log","name","position","coordinates","lat","lng","icon","eventHandlers","click","mouseover","mouseout","ref","children","direction","offset","opacity","permanent"],"sources":["D:/MY projects/CupeKG/cupe-kg-frontend/src/components/LocationMarker/LocationMarker.jsx"],"sourcesContent":["// components/LocationMarker/LocationMarker.jsx\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Marker, Tooltip } from 'react-leaflet';\r\nimport L from 'leaflet';\r\nimport './LocationMarker.css';\r\n\r\n// Fix for default marker icon in React-Leaflet\r\ndelete L.Icon.Default.prototype._getIconUrl;\r\nL.Icon.Default.mergeOptions({\r\n  iconRetinaUrl: 'https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon-2x.png',\r\n  iconUrl: 'https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon.png',\r\n  shadowUrl: 'https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png',\r\n});\r\n\r\nconst LocationMarker = ({ location, isSelected, onClick }) => {\r\n  const [isHovered, setIsHovered] = useState(false);\r\n  const [markerRef, setMarkerRef] = useState(null);\r\n\r\n  // Create custom icon based on location category and state\r\n  const getCustomIcon = () => {\r\n    const size = isSelected ? 48 : isHovered ? 40 : 32;\r\n    \r\n    // Define colors for different categories\r\n    const colors = {\r\n      historical: '#E91E63',  // Pink\r\n      cultural: '#4CAF50',    // Green\r\n      religious: '#FFC107',   // Amber\r\n      default: '#2196F3'      // Blue\r\n    };\r\n    \r\n    const color = colors[location.category] || colors.default;\r\n    \r\n    return L.divIcon({\r\n      className: `custom-marker ${isSelected ? 'selected' : ''} ${isHovered ? 'hovered' : ''}`,\r\n      html: `\r\n        <div class=\"marker-container\" style=\"width: ${size}px; height: ${size}px;\">\r\n          <svg viewBox=\"0 0 24 24\" width=\"${size}\" height=\"${size}\">\r\n            <path fill=\"${color}\" d=\"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z\"/>\r\n          </svg>\r\n          ${isSelected || isHovered ? `<div class=\"marker-pulse\" style=\"border-color: ${color}\"></div>` : ''}\r\n        </div>\r\n      `,\r\n      iconSize: [size, size],\r\n      iconAnchor: [size/2, size],\r\n    });\r\n  };\r\n  \r\n  useEffect(() => {\r\n    // Apply animations when selection state changes\r\n    if (markerRef) {\r\n      if (isSelected) {\r\n        markerRef._icon.classList.add('bounce-animation');\r\n        setTimeout(() => {\r\n          if (markerRef._icon) {\r\n            markerRef._icon.classList.remove('bounce-animation');\r\n          }\r\n        }, 1000);\r\n      }\r\n    }\r\n  }, [isSelected, markerRef]);\r\n\r\n  const handleMarkerClick = () => {\r\n    // Make sure this function is called and passing the location\r\n    console.log(\"Marker clicked:\", location.name);\r\n    onClick(location);\r\n  };\r\n\r\n  return (\r\n    <Marker\r\n      position={[location.coordinates.lat, location.coordinates.lng]}\r\n      icon={getCustomIcon()}\r\n      eventHandlers={{\r\n        click: handleMarkerClick,\r\n        mouseover: () => setIsHovered(true),\r\n        mouseout: () => setIsHovered(false),\r\n      }}\r\n      ref={(ref) => setMarkerRef(ref)}\r\n    >\r\n      <Tooltip \r\n        direction=\"top\" \r\n        offset={[0, -20]} \r\n        opacity={0.9}\r\n        permanent={isSelected || isHovered}\r\n        className={`location-tooltip ${isSelected ? 'selected' : ''}`}\r\n      >\r\n        <div className=\"tooltip-content\">\r\n          <span className=\"location-name\">{location.name}</span>\r\n          {isSelected && <span className=\"location-hint\">Click for details</span>}\r\n        </div>\r\n      </Tooltip>\r\n    </Marker>\r\n  );\r\n};\r\n\r\nexport default LocationMarker;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}