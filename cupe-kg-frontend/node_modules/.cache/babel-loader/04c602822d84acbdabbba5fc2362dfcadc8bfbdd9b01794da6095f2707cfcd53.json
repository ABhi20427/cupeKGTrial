{"ast":null,"code":"var _jsxFileName = \"D:\\\\MY projects\\\\Major Project\\\\cupe-kg-frontend\\\\src\\\\components\\\\LocationMarker\\\\LocationMarker.jsx\",\n  _s = $RefreshSig$();\n// components/LocationMarker/LocationMarker.jsx\nimport React, { useEffect, useState } from 'react';\nimport { Marker, Tooltip } from 'react-leaflet';\nimport L from 'leaflet';\nimport './LocationMarker.css';\n\n// Fix for default marker icon in React-Leaflet\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: 'https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon-2x.png',\n  iconUrl: 'https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon.png',\n  shadowUrl: 'https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png'\n});\nconst LocationMarker = ({\n  location,\n  isSelected,\n  onClick\n}) => {\n  _s();\n  const [isHovered, setIsHovered] = useState(false);\n  const [markerRef, setMarkerRef] = useState(null);\n\n  // Create custom icon based on location category and state\n  const getCustomIcon = () => {\n    const size = isSelected ? 48 : isHovered ? 40 : 32;\n\n    // Define colors for different categories\n    const colors = {\n      historical: '#E91E63',\n      // Pink\n      cultural: '#4CAF50',\n      // Green\n      religious: '#FFC107',\n      // Amber\n      default: '#2196F3' // Blue\n    };\n    const color = colors[location.category] || colors.default;\n    return L.divIcon({\n      className: `custom-marker ${isSelected ? 'selected' : ''} ${isHovered ? 'hovered' : ''}`,\n      html: `\n        <div class=\"marker-container\" style=\"width: ${size}px; height: ${size}px;\">\n          <svg viewBox=\"0 0 24 24\" width=\"${size}\" height=\"${size}\">\n            <path fill=\"${color}\" d=\"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z\"/>\n          </svg>\n          ${isSelected || isHovered ? `<div class=\"marker-pulse\" style=\"border-color: ${color}\"></div>` : ''}\n        </div>\n      `,\n      iconSize: [size, size],\n      iconAnchor: [size / 2, size]\n    });\n  };\n  useEffect(() => {\n    // Apply animations when selection state changes\n    if (markerRef) {\n      if (isSelected) {\n        markerRef._icon.classList.add('bounce-animation');\n        setTimeout(() => {\n          if (markerRef._icon) {\n            markerRef._icon.classList.remove('bounce-animation');\n          }\n        }, 1000);\n      }\n    }\n  }, [isSelected, markerRef]);\n  const handleMarkerClick = () => {\n    // Make sure this function is called and passing the location\n    console.log(\"Marker clicked:\", location.name);\n    onClick(location);\n  };\n  return /*#__PURE__*/_jsxDEV(Marker, {\n    position: [location.coordinates.lat, location.coordinates.lng],\n    icon: getCustomIcon(),\n    eventHandlers: {\n      click: handleMarkerClick,\n      mouseover: () => setIsHovered(true),\n      mouseout: () => setIsHovered(false)\n    },\n    ref: ref => setMarkerRef(ref),\n    children: /*#__PURE__*/_jsxDEV(Tooltip, {\n      direction: \"top\",\n      offset: [0, -20],\n      opacity: 0.9,\n      permanent: isSelected || isHovered,\n      className: `location-tooltip ${isSelected ? 'selected' : ''}`,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tooltip-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"location-name\",\n          children: location.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), isSelected && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"location-hint\",\n          children: \"Click for details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 26\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n};\n_s(LocationMarker, \"QGP8cqOodZiOHC5cLcFmaQtBIe8=\");\n_c = LocationMarker;\nexport default LocationMarker;\nvar _c;\n$RefreshReg$(_c, \"LocationMarker\");","map":{"version":3,"names":["React","useEffect","useState","Marker","Tooltip","L","jsxDEV","_jsxDEV","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","iconUrl","shadowUrl","LocationMarker","location","isSelected","onClick","_s","isHovered","setIsHovered","markerRef","setMarkerRef","getCustomIcon","size","colors","historical","cultural","religious","default","color","category","divIcon","className","html","iconSize","iconAnchor","_icon","classList","add","setTimeout","remove","handleMarkerClick","console","log","name","position","coordinates","lat","lng","icon","eventHandlers","click","mouseover","mouseout","ref","children","direction","offset","opacity","permanent","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/MY projects/Major Project/cupe-kg-frontend/src/components/LocationMarker/LocationMarker.jsx"],"sourcesContent":["// components/LocationMarker/LocationMarker.jsx\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Marker, Tooltip } from 'react-leaflet';\r\nimport L from 'leaflet';\r\nimport './LocationMarker.css';\r\n\r\n// Fix for default marker icon in React-Leaflet\r\ndelete L.Icon.Default.prototype._getIconUrl;\r\nL.Icon.Default.mergeOptions({\r\n  iconRetinaUrl: 'https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon-2x.png',\r\n  iconUrl: 'https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon.png',\r\n  shadowUrl: 'https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png',\r\n});\r\n\r\nconst LocationMarker = ({ location, isSelected, onClick }) => {\r\n  const [isHovered, setIsHovered] = useState(false);\r\n  const [markerRef, setMarkerRef] = useState(null);\r\n\r\n  // Create custom icon based on location category and state\r\n  const getCustomIcon = () => {\r\n    const size = isSelected ? 48 : isHovered ? 40 : 32;\r\n    \r\n    // Define colors for different categories\r\n    const colors = {\r\n      historical: '#E91E63',  // Pink\r\n      cultural: '#4CAF50',    // Green\r\n      religious: '#FFC107',   // Amber\r\n      default: '#2196F3'      // Blue\r\n    };\r\n    \r\n    const color = colors[location.category] || colors.default;\r\n    \r\n    return L.divIcon({\r\n      className: `custom-marker ${isSelected ? 'selected' : ''} ${isHovered ? 'hovered' : ''}`,\r\n      html: `\r\n        <div class=\"marker-container\" style=\"width: ${size}px; height: ${size}px;\">\r\n          <svg viewBox=\"0 0 24 24\" width=\"${size}\" height=\"${size}\">\r\n            <path fill=\"${color}\" d=\"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z\"/>\r\n          </svg>\r\n          ${isSelected || isHovered ? `<div class=\"marker-pulse\" style=\"border-color: ${color}\"></div>` : ''}\r\n        </div>\r\n      `,\r\n      iconSize: [size, size],\r\n      iconAnchor: [size/2, size],\r\n    });\r\n  };\r\n  \r\n  useEffect(() => {\r\n    // Apply animations when selection state changes\r\n    if (markerRef) {\r\n      if (isSelected) {\r\n        markerRef._icon.classList.add('bounce-animation');\r\n        setTimeout(() => {\r\n          if (markerRef._icon) {\r\n            markerRef._icon.classList.remove('bounce-animation');\r\n          }\r\n        }, 1000);\r\n      }\r\n    }\r\n  }, [isSelected, markerRef]);\r\n\r\n  const handleMarkerClick = () => {\r\n    // Make sure this function is called and passing the location\r\n    console.log(\"Marker clicked:\", location.name);\r\n    onClick(location);\r\n  };\r\n\r\n  return (\r\n    <Marker\r\n      position={[location.coordinates.lat, location.coordinates.lng]}\r\n      icon={getCustomIcon()}\r\n      eventHandlers={{\r\n        click: handleMarkerClick,\r\n        mouseover: () => setIsHovered(true),\r\n        mouseout: () => setIsHovered(false),\r\n      }}\r\n      ref={(ref) => setMarkerRef(ref)}\r\n    >\r\n      <Tooltip \r\n        direction=\"top\" \r\n        offset={[0, -20]} \r\n        opacity={0.9}\r\n        permanent={isSelected || isHovered}\r\n        className={`location-tooltip ${isSelected ? 'selected' : ''}`}\r\n      >\r\n        <div className=\"tooltip-content\">\r\n          <span className=\"location-name\">{location.name}</span>\r\n          {isSelected && <span className=\"location-hint\">Click for details</span>}\r\n        </div>\r\n      </Tooltip>\r\n    </Marker>\r\n  );\r\n};\r\n\r\nexport default LocationMarker;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}