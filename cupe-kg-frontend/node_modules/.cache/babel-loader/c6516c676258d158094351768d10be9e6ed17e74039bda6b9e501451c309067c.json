{"ast":null,"code":"// src/components/RoutePreferences/RoutePreferences.jsx\nimport React,{useState,useEffect}from'react';import'./RoutePreferences.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const RoutePreferences=_ref=>{var _suggestions$availabl;let{onCreateRoute,onClose,isVisible}=_ref;const[preferences,setPreferences]=useState({interests:[],max_travel_days:7,budget_range:'medium',transport_mode:'car',start_location:null,preferred_regions:[],max_distance_km:500,preferred_periods:[],preferred_dynasties:[],crowd_preference:'medium',accommodation_type:'medium',cultural_activities:[],accessibility_required:false,physical_difficulty_preference:'medium'});const[suggestions,setSuggestions]=useState({available_interests:[],available_periods:[],available_dynasties:[],available_categories:[]});const[currentLocation,setCurrentLocation]=useState(null);const[isLoading,setIsLoading]=useState(false);useEffect(()=>{if(isVisible){fetchSuggestions();getUserLocation();}},[isVisible]);const fetchSuggestions=async()=>{try{const response=await fetch('/api/preference-suggestions');if(response.ok){const data=await response.json();console.log('Suggestions received:',data);// Debug log\nsetSuggestions(data);}else{console.error('Failed to fetch suggestions');// Fallback data\nsetSuggestions({available_interests:['historical','religious','architectural','cultural'],available_periods:['Ancient','Medieval','Mughal','Colonial','Modern'],available_dynasties:['Mughal Empire','Vijayanagara Empire','Mauryan Empire','Gupta Empire'],available_categories:['historical','religious','cultural']});}}catch(error){console.error('Error fetching suggestions:',error);// Fallback data\nsetSuggestions({available_interests:['historical','religious','architectural','cultural'],available_periods:['Ancient','Medieval','Mughal','Colonial','Modern'],available_dynasties:['Mughal Empire','Vijayanagara Empire','Mauryan Empire','Gupta Empire'],available_categories:['historical','religious','cultural']});}};const getUserLocation=()=>{if(navigator.geolocation){navigator.geolocation.getCurrentPosition(position=>{const location={lat:position.coords.latitude,lng:position.coords.longitude};setCurrentLocation(location);setPreferences(prev=>({...prev,start_location:location}));},error=>{console.log('Geolocation error:',error);});}};const handleInterestToggle=interest=>{setPreferences(prev=>({...prev,interests:prev.interests.includes(interest)?prev.interests.filter(i=>i!==interest):[...prev.interests,interest]}));};const handleMultiSelectToggle=(field,value)=>{console.log(`Toggling ${field} with value:`,value);// Debug log\nsetPreferences(prev=>{const currentArray=prev[field]||[];const newArray=currentArray.includes(value)?currentArray.filter(item=>item!==value):[...currentArray,value];console.log(`Updated ${field}:`,newArray);// Debug log\nreturn{...prev,[field]:newArray};});};const handleInputChange=(field,value)=>{setPreferences(prev=>({...prev,[field]:value}));};// cupe-kg-frontend/src/components/RoutePreferences/RoutePreferences.jsx\n// FIXED VERSION - Replace the handleSubmit function in your RoutePreferences.jsx\n// Find your existing handleSubmit function (around line 100-130) and replace it with this:\nconst handleSubmit=async()=>{if(preferences.interests.length===0){alert('Please select at least one interest!');return;}setIsLoading(true);try{const{UltraAccurateRoutePlanner}=await import('../../utils/enhancedRoutePlanner');const locations=window.allLocations||[];const routes=window.allRoutes||[];if(locations.length===0){console.warn('No locations available, falling back to default data');throw new Error('Location data is not available. Please try again in a few moments.');}console.log('Creating culturally intelligent route with:',{preferences,locationsCount:locations.length,routesCount:routes.length});// Enhanced route planning with cultural intelligence\nconst planner=new UltraAccurateRoutePlanner(locations,routes);// Transform preferences for the ultra-accurate planner\nconst enhancedPreferences={...preferences,max_travel_days:preferences.max_travel_days,budget_category:preferences.budget_range,transport_modes:[preferences.transport_mode],cultural_priorities:{activities:preferences.cultural_activities,periods:preferences.preferred_periods,dynasties:preferences.preferred_dynasties},crowd_level:preferences.crowd_preference,accommodation_type:preferences.accommodation_type,physical_difficulty:preferences.physical_difficulty_preference,accessibility_needs:preferences.accessibility_required};// Generate culturally intelligent route\nconst route=planner.createUltraAccurateRoute(enhancedPreferences);console.log('Culturally intelligent route created:',route);if(route&&route.locations&&route.locations.length>0){// Success - route created with cultural intelligence\nif(route.culturalThemes){console.log('Cultural themes identified:',route.culturalThemes);}if(route.optimizationMetrics){console.log('Route optimization metrics:',route.optimizationMetrics);}onCreateRoute(route);onClose();}else{throw new Error('Could not create a suitable route with the given cultural preferences');}}catch(error){console.error('Error creating culturally intelligent route:',error);alert('Could not create route with these preferences. Please try adjusting your cultural or travel preferences.');}finally{setIsLoading(false);}};const interestDisplayNames={'historical':'Historical Sites','religious':'Religious Places','architectural':'Architecture','cultural':'Cultural Heritage','archaeological':'Archaeological Sites','royal_heritage':'Royal Heritage','ancient_temples':'Ancient Temples','forts_palaces':'Forts & Palaces','unesco_sites':'UNESCO Sites'};if(!isVisible)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"route-preferences-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"route-preferences-modal\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"preferences-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Create Your Personalized Route\"}),/*#__PURE__*/_jsx(\"button\",{className:\"close-btn\",onClick:onClose,children:\"\\xD7\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"preferences-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"preference-section\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"What interests you? \",/*#__PURE__*/_jsx(\"span\",{className:\"required\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"interests-grid\",children:(_suggestions$availabl=suggestions.available_interests)===null||_suggestions$availabl===void 0?void 0:_suggestions$availabl.map(interest=>/*#__PURE__*/_jsx(\"button\",{className:`interest-btn ${preferences.interests.includes(interest)?'selected':''}`,onClick:()=>handleInterestToggle(interest),children:interestDisplayNames[interest]||interest},interest))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"preference-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Travel Duration\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Maximum travel days:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"1\",max:\"30\",value:preferences.max_travel_days,onChange:e=>handleInputChange('max_travel_days',parseInt(e.target.value))})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"preference-section\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"two-column\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Budget Range:\"}),/*#__PURE__*/_jsxs(\"select\",{value:preferences.budget_range,onChange:e=>handleInputChange('budget_range',e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"low\",children:\"Budget-friendly\"}),/*#__PURE__*/_jsx(\"option\",{value:\"medium\",children:\"Moderate\"}),/*#__PURE__*/_jsx(\"option\",{value:\"high\",children:\"Luxury\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Transport Mode:\"}),/*#__PURE__*/_jsxs(\"select\",{value:preferences.transport_mode,onChange:e=>handleInputChange('transport_mode',e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"car\",children:\"Car\"}),/*#__PURE__*/_jsx(\"option\",{value:\"train\",children:\"Train\"}),/*#__PURE__*/_jsx(\"option\",{value:\"bus\",children:\"Bus\"}),/*#__PURE__*/_jsx(\"option\",{value:\"flight\",children:\"Flight\"}),/*#__PURE__*/_jsx(\"option\",{value:\"mixed\",children:\"Mixed\"})]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"preference-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Historical Preferences\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"two-column\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Preferred Periods:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"multi-select\",children:suggestions.available_periods&&suggestions.available_periods.length>0?suggestions.available_periods.slice(0,8).map(period=>/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:preferences.preferred_periods.includes(period),onChange:()=>handleMultiSelectToggle('preferred_periods',period)}),period]},period)):/*#__PURE__*/_jsx(\"div\",{className:\"no-data\",children:\"No historical periods available\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Preferred Dynasties:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"multi-select\",children:suggestions.available_dynasties&&suggestions.available_dynasties.length>0?suggestions.available_dynasties.slice(0,8).map(dynasty=>/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:preferences.preferred_dynasties.includes(dynasty),onChange:()=>handleMultiSelectToggle('preferred_dynasties',dynasty)}),dynasty]},dynasty)):/*#__PURE__*/_jsx(\"div\",{className:\"no-data\",children:\"No dynasties available\"})})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"preference-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Location Preferences\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Maximum distance from start (km):\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"50\",max:\"2000\",step:\"50\",value:preferences.max_distance_km,onChange:e=>handleInputChange('max_distance_km',parseInt(e.target.value))})]}),currentLocation&&/*#__PURE__*/_jsxs(\"div\",{className:\"location-info\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\uD83D\\uDCCD Using your current location as starting point\"}),/*#__PURE__*/_jsxs(\"small\",{children:[\"Lat: \",currentLocation.lat.toFixed(4),\", Lng: \",currentLocation.lng.toFixed(4)]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"preference-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Experience Preferences\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"three-column\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Crowd Level:\"}),/*#__PURE__*/_jsxs(\"select\",{value:preferences.crowd_preference,onChange:e=>handleInputChange('crowd_preference',e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"low\",children:\"Peaceful\"}),/*#__PURE__*/_jsx(\"option\",{value:\"medium\",children:\"Moderate\"}),/*#__PURE__*/_jsx(\"option\",{value:\"high\",children:\"Bustling\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Accommodation:\"}),/*#__PURE__*/_jsxs(\"select\",{value:preferences.accommodation_type,onChange:e=>handleInputChange('accommodation_type',e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"budget\",children:\"Budget\"}),/*#__PURE__*/_jsx(\"option\",{value:\"medium\",children:\"Comfortable\"}),/*#__PURE__*/_jsx(\"option\",{value:\"luxury\",children:\"Luxury\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Physical Difficulty:\"}),/*#__PURE__*/_jsxs(\"select\",{value:preferences.physical_difficulty_preference,onChange:e=>handleInputChange('physical_difficulty_preference',e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"easy\",children:\"Easy\"}),/*#__PURE__*/_jsx(\"option\",{value:\"medium\",children:\"Moderate\"}),/*#__PURE__*/_jsx(\"option\",{value:\"difficult\",children:\"Challenging\"})]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"preference-section\",children:/*#__PURE__*/_jsx(\"div\",{className:\"input-group\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:preferences.accessibility_required,onChange:e=>handleInputChange('accessibility_required',e.target.checked)}),\"Accessibility features required\"]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"preference-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Cultural Activities (Optional)\"}),/*#__PURE__*/_jsx(\"div\",{className:\"activities-grid\",children:['festivals','local_food','crafts','music','dance','markets'].map(activity=>/*#__PURE__*/_jsx(\"button\",{className:`activity-btn ${preferences.cultural_activities.includes(activity)?'selected':''}`,onClick:()=>handleMultiSelectToggle('cultural_activities',activity),children:activity.replace('_',' ')},activity))})]}),/*#__PURE__*/_jsx(\"div\",{className:\"preference-section\",style:{fontSize:'12px',color:'#666'},children:/*#__PURE__*/_jsxs(\"details\",{children:[/*#__PURE__*/_jsx(\"summary\",{children:\"Debug Info (Click to expand)\"}),/*#__PURE__*/_jsx(\"pre\",{children:JSON.stringify({'Selected Periods':preferences.preferred_periods,'Selected Dynasties':preferences.preferred_dynasties,'Available Periods':suggestions.available_periods,'Available Dynasties':suggestions.available_dynasties},null,2)})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"preferences-footer\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"cancel-btn\",onClick:onClose,children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{className:\"create-route-btn\",onClick:handleSubmit,disabled:isLoading||preferences.interests.length===0,children:isLoading?'Creating Route...':'Create My Route'})]})]})});};export default RoutePreferences;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","RoutePreferences","_ref","_suggestions$availabl","onCreateRoute","onClose","isVisible","preferences","setPreferences","interests","max_travel_days","budget_range","transport_mode","start_location","preferred_regions","max_distance_km","preferred_periods","preferred_dynasties","crowd_preference","accommodation_type","cultural_activities","accessibility_required","physical_difficulty_preference","suggestions","setSuggestions","available_interests","available_periods","available_dynasties","available_categories","currentLocation","setCurrentLocation","isLoading","setIsLoading","fetchSuggestions","getUserLocation","response","fetch","ok","data","json","console","log","error","navigator","geolocation","getCurrentPosition","position","location","lat","coords","latitude","lng","longitude","prev","handleInterestToggle","interest","includes","filter","i","handleMultiSelectToggle","field","value","currentArray","newArray","item","handleInputChange","handleSubmit","length","alert","UltraAccurateRoutePlanner","locations","window","allLocations","routes","allRoutes","warn","Error","locationsCount","routesCount","planner","enhancedPreferences","budget_category","transport_modes","cultural_priorities","activities","periods","dynasties","crowd_level","physical_difficulty","accessibility_needs","route","createUltraAccurateRoute","culturalThemes","optimizationMetrics","interestDisplayNames","className","children","onClick","map","type","min","max","onChange","e","parseInt","target","slice","period","checked","dynasty","step","toFixed","activity","replace","style","fontSize","color","JSON","stringify","disabled"],"sources":["D:/MY projects/CupeKG/cupe-kg-frontend/src/components/RoutePreferences/RoutePreferences.jsx"],"sourcesContent":["// src/components/RoutePreferences/RoutePreferences.jsx\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport './RoutePreferences.css';\r\n\r\nconst RoutePreferences = ({ onCreateRoute, onClose, isVisible }) => {\r\n  const [preferences, setPreferences] = useState({\r\n    interests: [],\r\n    max_travel_days: 7,\r\n    budget_range: 'medium',\r\n    transport_mode: 'car',\r\n    start_location: null,\r\n    preferred_regions: [],\r\n    max_distance_km: 500,\r\n    preferred_periods: [],\r\n    preferred_dynasties: [],\r\n    crowd_preference: 'medium',\r\n    accommodation_type: 'medium',\r\n    cultural_activities: [],\r\n    accessibility_required: false,\r\n    physical_difficulty_preference: 'medium'\r\n  });\r\n\r\n  const [suggestions, setSuggestions] = useState({\r\n    available_interests: [],\r\n    available_periods: [],\r\n    available_dynasties: [],\r\n    available_categories: []\r\n  });\r\n  const [currentLocation, setCurrentLocation] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (isVisible) {\r\n      fetchSuggestions();\r\n      getUserLocation();\r\n    }\r\n  }, [isVisible]);\r\n\r\n  const fetchSuggestions = async () => {\r\n    try {\r\n      const response = await fetch('/api/preference-suggestions');\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        console.log('Suggestions received:', data); // Debug log\r\n        setSuggestions(data);\r\n      } else {\r\n        console.error('Failed to fetch suggestions');\r\n        // Fallback data\r\n        setSuggestions({\r\n          available_interests: ['historical', 'religious', 'architectural', 'cultural'],\r\n          available_periods: ['Ancient', 'Medieval', 'Mughal', 'Colonial', 'Modern'],\r\n          available_dynasties: ['Mughal Empire', 'Vijayanagara Empire', 'Mauryan Empire', 'Gupta Empire'],\r\n          available_categories: ['historical', 'religious', 'cultural']\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching suggestions:', error);\r\n      // Fallback data\r\n      setSuggestions({\r\n        available_interests: ['historical', 'religious', 'architectural', 'cultural'],\r\n        available_periods: ['Ancient', 'Medieval', 'Mughal', 'Colonial', 'Modern'],\r\n        available_dynasties: ['Mughal Empire', 'Vijayanagara Empire', 'Mauryan Empire', 'Gupta Empire'],\r\n        available_categories: ['historical', 'religious', 'cultural']\r\n      });\r\n    }\r\n  };\r\n\r\n  const getUserLocation = () => {\r\n    if (navigator.geolocation) {\r\n      navigator.geolocation.getCurrentPosition(\r\n        (position) => {\r\n          const location = {\r\n            lat: position.coords.latitude,\r\n            lng: position.coords.longitude\r\n          };\r\n          setCurrentLocation(location);\r\n          setPreferences(prev => ({\r\n            ...prev,\r\n            start_location: location\r\n          }));\r\n        },\r\n        (error) => {\r\n          console.log('Geolocation error:', error);\r\n        }\r\n      );\r\n    }\r\n  };\r\n\r\n  const handleInterestToggle = (interest) => {\r\n    setPreferences(prev => ({\r\n      ...prev,\r\n      interests: prev.interests.includes(interest)\r\n        ? prev.interests.filter(i => i !== interest)\r\n        : [...prev.interests, interest]\r\n    }));\r\n  };\r\n\r\n  const handleMultiSelectToggle = (field, value) => {\r\n    console.log(`Toggling ${field} with value:`, value); // Debug log\r\n    setPreferences(prev => {\r\n      const currentArray = prev[field] || [];\r\n      const newArray = currentArray.includes(value)\r\n        ? currentArray.filter(item => item !== value)\r\n        : [...currentArray, value];\r\n\r\n      console.log(`Updated ${field}:`, newArray); // Debug log\r\n\r\n      return {\r\n        ...prev,\r\n        [field]: newArray\r\n      };\r\n    });\r\n  };\r\n\r\n  const handleInputChange = (field, value) => {\r\n    setPreferences(prev => ({\r\n      ...prev,\r\n      [field]: value\r\n    }));\r\n  };\r\n\r\n// cupe-kg-frontend/src/components/RoutePreferences/RoutePreferences.jsx\r\n// FIXED VERSION - Replace the handleSubmit function in your RoutePreferences.jsx\r\n\r\n// Find your existing handleSubmit function (around line 100-130) and replace it with this:\r\n\r\nconst handleSubmit = async () => {\r\n  if (preferences.interests.length === 0) {\r\n    alert('Please select at least one interest!');\r\n    return;\r\n  }\r\n\r\n  setIsLoading(true);\r\n  try {\r\n    const { UltraAccurateRoutePlanner } = await import('../../utils/enhancedRoutePlanner');\r\n    \r\n    const locations = window.allLocations || [];\r\n    const routes = window.allRoutes || [];\r\n    \r\n    if (locations.length === 0) {\r\n      console.warn('No locations available, falling back to default data');\r\n      throw new Error('Location data is not available. Please try again in a few moments.');\r\n    }\r\n    \r\n    console.log('Creating culturally intelligent route with:', {\r\n      preferences,\r\n      locationsCount: locations.length,\r\n      routesCount: routes.length\r\n    });\r\n    \r\n    // Enhanced route planning with cultural intelligence\r\n    const planner = new UltraAccurateRoutePlanner(locations, routes);\r\n    \r\n    // Transform preferences for the ultra-accurate planner\r\n    const enhancedPreferences = {\r\n      ...preferences,\r\n      max_travel_days: preferences.max_travel_days,\r\n      budget_category: preferences.budget_range,\r\n      transport_modes: [preferences.transport_mode],\r\n      cultural_priorities: {\r\n        activities: preferences.cultural_activities,\r\n        periods: preferences.preferred_periods,\r\n        dynasties: preferences.preferred_dynasties\r\n      },\r\n      crowd_level: preferences.crowd_preference,\r\n      accommodation_type: preferences.accommodation_type,\r\n      physical_difficulty: preferences.physical_difficulty_preference,\r\n      accessibility_needs: preferences.accessibility_required\r\n    };\r\n    \r\n    // Generate culturally intelligent route\r\n    const route = planner.createUltraAccurateRoute(enhancedPreferences);\r\n    \r\n    console.log('Culturally intelligent route created:', route);\r\n    \r\n    if (route && route.locations && route.locations.length > 0) {\r\n      // Success - route created with cultural intelligence\r\n      if (route.culturalThemes) {\r\n        console.log('Cultural themes identified:', route.culturalThemes);\r\n      }\r\n      if (route.optimizationMetrics) {\r\n        console.log('Route optimization metrics:', route.optimizationMetrics);\r\n      }\r\n      onCreateRoute(route);\r\n      onClose();\r\n    } else {\r\n      throw new Error('Could not create a suitable route with the given cultural preferences');\r\n    }\r\n    \r\n  } catch (error) {\r\n    console.error('Error creating culturally intelligent route:', error);\r\n    alert('Could not create route with these preferences. Please try adjusting your cultural or travel preferences.');\r\n  } finally {\r\n    setIsLoading(false);\r\n  }\r\n};\r\n\r\n  const interestDisplayNames = {\r\n    'historical': 'Historical Sites',\r\n    'religious': 'Religious Places',\r\n    'architectural': 'Architecture',\r\n    'cultural': 'Cultural Heritage',\r\n    'archaeological': 'Archaeological Sites',\r\n    'royal_heritage': 'Royal Heritage',\r\n    'ancient_temples': 'Ancient Temples',\r\n    'forts_palaces': 'Forts & Palaces',\r\n    'unesco_sites': 'UNESCO Sites'\r\n  };\r\n\r\n  if (!isVisible) return null;\r\n\r\n  return (\r\n    <div className=\"route-preferences-overlay\">\r\n      <div className=\"route-preferences-modal\">\r\n        <div className=\"preferences-header\">\r\n          <h2>Create Your Personalized Route</h2>\r\n          <button className=\"close-btn\" onClick={onClose}>√ó</button>\r\n        </div>\r\n\r\n        <div className=\"preferences-content\">\r\n          {/* Interests Section */}\r\n          <div className=\"preference-section\">\r\n            <h3>What interests you? <span className=\"required\">*</span></h3>\r\n            <div className=\"interests-grid\">\r\n              {suggestions.available_interests?.map(interest => (\r\n                <button\r\n                  key={interest}\r\n                  className={`interest-btn ${preferences.interests.includes(interest) ? 'selected' : ''}`}\r\n                  onClick={() => handleInterestToggle(interest)}\r\n                >\r\n                  {interestDisplayNames[interest] || interest}\r\n                </button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Travel Duration */}\r\n          <div className=\"preference-section\">\r\n            <h3>Travel Duration</h3>\r\n            <div className=\"input-group\">\r\n              <label>Maximum travel days:</label>\r\n              <input\r\n                type=\"number\"\r\n                min=\"1\"\r\n                max=\"30\"\r\n                value={preferences.max_travel_days}\r\n                onChange={(e) => handleInputChange('max_travel_days', parseInt(e.target.value))}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* Budget & Transport */}\r\n          <div className=\"preference-section\">\r\n            <div className=\"two-column\">\r\n              <div className=\"input-group\">\r\n                <label>Budget Range:</label>\r\n                <select\r\n                  value={preferences.budget_range}\r\n                  onChange={(e) => handleInputChange('budget_range', e.target.value)}\r\n                >\r\n                  <option value=\"low\">Budget-friendly</option>\r\n                  <option value=\"medium\">Moderate</option>\r\n                  <option value=\"high\">Luxury</option>\r\n                </select>\r\n              </div>\r\n              <div className=\"input-group\">\r\n                <label>Transport Mode:</label>\r\n                <select\r\n                  value={preferences.transport_mode}\r\n                  onChange={(e) => handleInputChange('transport_mode', e.target.value)}\r\n                >\r\n                  <option value=\"car\">Car</option>\r\n                  <option value=\"train\">Train</option>\r\n                  <option value=\"bus\">Bus</option>\r\n                  <option value=\"flight\">Flight</option>\r\n                  <option value=\"mixed\">Mixed</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Historical Preferences - Safe Rendering */}\r\n          <div className=\"preference-section\">\r\n            <h3>Historical Preferences</h3>\r\n            <div className=\"two-column\">\r\n              <div className=\"input-group\">\r\n                <label>Preferred Periods:</label>\r\n                <div className=\"multi-select\">\r\n                  {suggestions.available_periods && suggestions.available_periods.length > 0 ? (\r\n                    suggestions.available_periods.slice(0, 8).map(period => (\r\n                      <label key={period} className=\"checkbox-label\">\r\n                        <input\r\n                          type=\"checkbox\"\r\n                          checked={preferences.preferred_periods.includes(period)}\r\n                          onChange={() => handleMultiSelectToggle('preferred_periods', period)}\r\n                        />\r\n                        {period}\r\n                      </label>\r\n                    ))\r\n                  ) : (\r\n                    <div className=\"no-data\">No historical periods available</div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n              <div className=\"input-group\">\r\n                <label>Preferred Dynasties:</label>\r\n                <div className=\"multi-select\">\r\n                  {suggestions.available_dynasties && suggestions.available_dynasties.length > 0 ? (\r\n                    suggestions.available_dynasties.slice(0, 8).map(dynasty => (\r\n                      <label key={dynasty} className=\"checkbox-label\">\r\n                        <input\r\n                          type=\"checkbox\"\r\n                          checked={preferences.preferred_dynasties.includes(dynasty)}\r\n                          onChange={() => handleMultiSelectToggle('preferred_dynasties', dynasty)}\r\n                        />\r\n                        {dynasty}\r\n                      </label>\r\n                    ))\r\n                  ) : (\r\n                    <div className=\"no-data\">No dynasties available</div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Distance & Location */}\r\n          <div className=\"preference-section\">\r\n            <h3>Location Preferences</h3>\r\n            <div className=\"input-group\">\r\n              <label>Maximum distance from start (km):</label>\r\n              <input\r\n                type=\"number\"\r\n                min=\"50\"\r\n                max=\"2000\"\r\n                step=\"50\"\r\n                value={preferences.max_distance_km}\r\n                onChange={(e) => handleInputChange('max_distance_km', parseInt(e.target.value))}\r\n              />\r\n            </div>\r\n            {currentLocation && (\r\n              <div className=\"location-info\">\r\n                <p>üìç Using your current location as starting point</p>\r\n                <small>Lat: {currentLocation.lat.toFixed(4)}, Lng: {currentLocation.lng.toFixed(4)}</small>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Experience Preferences */}\r\n          <div className=\"preference-section\">\r\n            <h3>Experience Preferences</h3>\r\n            <div className=\"three-column\">\r\n              <div className=\"input-group\">\r\n                <label>Crowd Level:</label>\r\n                <select\r\n                  value={preferences.crowd_preference}\r\n                  onChange={(e) => handleInputChange('crowd_preference', e.target.value)}\r\n                >\r\n                  <option value=\"low\">Peaceful</option>\r\n                  <option value=\"medium\">Moderate</option>\r\n                  <option value=\"high\">Bustling</option>\r\n                </select>\r\n              </div>\r\n              <div className=\"input-group\">\r\n                <label>Accommodation:</label>\r\n                <select\r\n                  value={preferences.accommodation_type}\r\n                  onChange={(e) => handleInputChange('accommodation_type', e.target.value)}\r\n                >\r\n                  <option value=\"budget\">Budget</option>\r\n                  <option value=\"medium\">Comfortable</option>\r\n                  <option value=\"luxury\">Luxury</option>\r\n                </select>\r\n              </div>\r\n              <div className=\"input-group\">\r\n                <label>Physical Difficulty:</label>\r\n                <select\r\n                  value={preferences.physical_difficulty_preference}\r\n                  onChange={(e) => handleInputChange('physical_difficulty_preference', e.target.value)}\r\n                >\r\n                  <option value=\"easy\">Easy</option>\r\n                  <option value=\"medium\">Moderate</option>\r\n                  <option value=\"difficult\">Challenging</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Accessibility */}\r\n          <div className=\"preference-section\">\r\n            <div className=\"input-group\">\r\n              <label className=\"checkbox-label\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={preferences.accessibility_required}\r\n                  onChange={(e) => handleInputChange('accessibility_required', e.target.checked)}\r\n                />\r\n                Accessibility features required\r\n              </label>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Cultural Activities */}\r\n          <div className=\"preference-section\">\r\n            <h3>Cultural Activities (Optional)</h3>\r\n            <div className=\"activities-grid\">\r\n              {['festivals', 'local_food', 'crafts', 'music', 'dance', 'markets'].map(activity => (\r\n                <button\r\n                  key={activity}\r\n                  className={`activity-btn ${preferences.cultural_activities.includes(activity) ? 'selected' : ''}`}\r\n                  onClick={() => handleMultiSelectToggle('cultural_activities', activity)}\r\n                >\r\n                  {activity.replace('_', ' ')}\r\n                </button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Debug Info (can remove in production) */}\r\n          <div className=\"preference-section\" style={{fontSize: '12px', color: '#666'}}>\r\n            <details>\r\n              <summary>Debug Info (Click to expand)</summary>\r\n              <pre>{JSON.stringify({\r\n                'Selected Periods': preferences.preferred_periods,\r\n                'Selected Dynasties': preferences.preferred_dynasties,\r\n                'Available Periods': suggestions.available_periods,\r\n                'Available Dynasties': suggestions.available_dynasties\r\n              }, null, 2)}</pre>\r\n            </details>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"preferences-footer\">\r\n          <button className=\"cancel-btn\" onClick={onClose}>Cancel</button>\r\n          <button \r\n            className=\"create-route-btn\" \r\n            onClick={handleSubmit}\r\n            disabled={isLoading || preferences.interests.length === 0}\r\n          >\r\n            {isLoading ? 'Creating Route...' : 'Create My Route'}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RoutePreferences;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}