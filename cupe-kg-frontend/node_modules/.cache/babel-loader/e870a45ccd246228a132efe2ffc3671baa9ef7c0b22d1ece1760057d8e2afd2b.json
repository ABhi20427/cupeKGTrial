{"ast":null,"code":"var _jsxFileName = \"D:\\\\MY projects\\\\CupeKG\\\\cupe-kg-frontend\\\\src\\\\components\\\\Timeline\\\\Timeline.jsx\",\n  _s = $RefreshSig$();\n// cupe-kg-frontend/src/components/Timeline/Timeline.jsx\n\nimport React, { useState, useEffect } from 'react';\nimport { useMapContext } from '../../context/MapContext';\nimport './Timeline.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Timeline = ({\n  isVisible,\n  onLocationSelect\n}) => {\n  _s();\n  const {\n    locations,\n    selectLocation,\n    selectedLocation\n  } = useMapContext();\n  const [selectedPeriod, setSelectedPeriod] = useState(null);\n  const [isExpanded, setIsExpanded] = useState(false);\n  const [timelinePeriods, setTimelinePeriods] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [dataSource, setDataSource] = useState('frontend'); // Track data source\n\n  // NEW: Fetch timeline data from backend API\n  const fetchTimelineFromAPI = async () => {\n    try {\n      setIsLoading(true);\n      setError(null);\n      const response = await fetch('/api/timeline/periods');\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n      if (data.success) {\n        setTimelinePeriods(data.periods);\n        setDataSource('backend');\n        console.log(`Timeline: Loaded ${data.totalPeriods} periods from backend API`);\n      } else {\n        throw new Error(data.error || 'Failed to fetch timeline data');\n      }\n    } catch (error) {\n      console.error('Timeline API Error:', error);\n      setError(error.message);\n\n      // Fallback to frontend processing\n      console.log('Timeline: Falling back to frontend data processing');\n      if (locations.length > 0) {\n        const periods = processLocationsIntoTimeline(locations);\n        setTimelinePeriods(periods);\n        setDataSource('frontend-fallback');\n      }\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // ENHANCED: Try API first, fallback to frontend processing\n  useEffect(() => {\n    if (isVisible) {\n      // Try to fetch from API first\n      fetchTimelineFromAPI();\n    }\n  }, [isVisible]);\n\n  // ENHANCED: Also process locations as backup/fallback\n  useEffect(() => {\n    // Only process locations if we haven't successfully loaded from API\n    if (locations.length > 0 && timelinePeriods.length === 0 && !isLoading) {\n      console.log('Timeline: Processing locations data as fallback');\n      const periods = processLocationsIntoTimeline(locations);\n      setTimelinePeriods(periods);\n      setDataSource('frontend');\n    }\n  }, [locations, timelinePeriods.length, isLoading]);\n  const processLocationsIntoTimeline = locations => {\n    const periodMap = new Map();\n    locations.forEach(location => {\n      if (!location.period) return;\n\n      // Extract period information\n      const periodInfo = extractPeriodInfo(location.period);\n      periodInfo.forEach(period => {\n        const key = period.label;\n        if (!periodMap.has(key)) {\n          periodMap.set(key, {\n            ...period,\n            locations: []\n          });\n        }\n        periodMap.get(key).locations.push(location);\n      });\n    });\n\n    // Convert to array and sort by start year\n    const periodsArray = Array.from(periodMap.values());\n    periodsArray.sort((a, b) => a.startYear - b.startYear);\n    return periodsArray;\n  };\n  const extractPeriodInfo = periodString => {\n    const periods = [];\n\n    // Handle different period formats\n    const patterns = [\n    // \"1336 CE - 1646 CE\"\n    {\n      regex: /(\\d{1,4})\\s*CE\\s*-\\s*(\\d{1,4})\\s*CE/i,\n      handler: match => ({\n        startYear: parseInt(match[1]),\n        endYear: parseInt(match[2]),\n        label: `${match[1]} CE - ${match[2]} CE`,\n        era: 'CE'\n      })\n    },\n    // \"13th century CE\"\n    {\n      regex: /(\\d{1,2})(?:st|nd|rd|th)\\s*century\\s*CE/i,\n      handler: match => {\n        const century = parseInt(match[1]);\n        const startYear = (century - 1) * 100 + 1;\n        const endYear = century * 100;\n        return {\n          startYear,\n          endYear,\n          label: `${match[1]}th Century CE`,\n          era: 'CE'\n        };\n      }\n    },\n    // \"950 CE - 1050 CE\"\n    {\n      regex: /(\\d{1,4})\\s*-\\s*(\\d{1,4})\\s*CE/i,\n      handler: match => ({\n        startYear: parseInt(match[1]),\n        endYear: parseInt(match[2]),\n        label: `${match[1]} - ${match[2]} CE`,\n        era: 'CE'\n      })\n    },\n    // Single year \"1632 CE\"\n    {\n      regex: /(\\d{1,4})\\s*CE/i,\n      handler: match => ({\n        startYear: parseInt(match[1]),\n        endYear: parseInt(match[1]) + 50,\n        // Approximate\n        label: `${match[1]} CE`,\n        era: 'CE'\n      })\n    },\n    // \"2nd century BCE\"\n    {\n      regex: /(\\d{1,2})(?:st|nd|rd|th)\\s*century\\s*BCE/i,\n      handler: match => {\n        const century = parseInt(match[1]);\n        return {\n          startYear: -(century * 100),\n          endYear: -((century - 1) * 100 + 1),\n          label: `${match[1]}th Century BCE`,\n          era: 'BCE'\n        };\n      }\n    }];\n    for (const pattern of patterns) {\n      const match = periodString.match(pattern.regex);\n      if (match) {\n        periods.push(pattern.handler(match));\n        break;\n      }\n    }\n\n    // Fallback: create a general period\n    if (periods.length === 0) {\n      periods.push({\n        startYear: 1000,\n        // Default\n        endYear: 2000,\n        label: periodString,\n        era: 'Unknown'\n      });\n    }\n    return periods;\n  };\n  const handlePeriodClick = period => {\n    if ((selectedPeriod === null || selectedPeriod === void 0 ? void 0 : selectedPeriod.label) === period.label) {\n      setSelectedPeriod(null);\n    } else {\n      setSelectedPeriod(period);\n    }\n  };\n  const handleLocationClick = location => {\n    selectLocation(location);\n    if (onLocationSelect) {\n      onLocationSelect(location);\n    }\n  };\n  const toggleExpanded = () => {\n    setIsExpanded(!isExpanded);\n  };\n\n  // NEW: Retry loading from API\n  const retryApiLoad = () => {\n    setError(null);\n    fetchTimelineFromAPI();\n  };\n  const getEraColor = era => {\n    const colors = {\n      'CE': '#3f51b5',\n      'BCE': '#e91e63',\n      'Unknown': '#757575'\n    };\n    return colors[era] || colors['Unknown'];\n  };\n  const getDynastyColor = dynasty => {\n    const colors = {\n      'Mughal Empire': '#ff9800',\n      'Vijayanagara Empire': '#4caf50',\n      'Chandela Dynasty': '#9c27b0',\n      'Eastern Ganga Dynasty': '#f44336',\n      'Satavahana and Vakataka': '#00bcd4',\n      'Rashtrakuta Dynasty': '#795548',\n      'Delhi Sultanate': '#607d8b'\n    };\n\n    // Find matching dynasty\n    for (const [key, color] of Object.entries(colors)) {\n      if (dynasty && dynasty.includes(key)) {\n        return color;\n      }\n    }\n    return '#757575';\n  };\n  if (!isVisible) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `timeline-container ${isExpanded ? 'expanded' : 'collapsed'}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"timeline-header\",\n      onClick: toggleExpanded,\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Historical Timeline\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"timeline-status\",\n        children: [dataSource === 'backend' && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"data-source-indicator api\",\n          children: \"API\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 40\n        }, this), dataSource === 'frontend' && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"data-source-indicator local\",\n          children: \"LOCAL\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 41\n        }, this), dataSource === 'frontend-fallback' && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"data-source-indicator fallback\",\n          children: \"FALLBACK\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 50\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"expand-button\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 7\n    }, this), isExpanded && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"timeline-content\",\n      children: [isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"timeline-loading\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading-spinner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Loading timeline data...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 13\n      }, this), error && !isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"timeline-error\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"error-message\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Failed to load timeline data\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: retryApiLoad,\n          className: \"retry-button\",\n          children: \"Retry\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 13\n      }, this), !isLoading && !error && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"timeline-periods\",\n          children: timelinePeriods.map((period, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `timeline-period ${(selectedPeriod === null || selectedPeriod === void 0 ? void 0 : selectedPeriod.label) === period.label ? 'active' : ''}`,\n            onClick: () => handlePeriodClick(period),\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"period-marker\",\n              style: {\n                backgroundColor: getEraColor(period.era)\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"period-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"period-label\",\n                children: period.label\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 296,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"period-meta\",\n                children: [period.locations.length, \" location\", period.locations.length !== 1 ? 's' : '']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 21\n            }, this), (selectedPeriod === null || selectedPeriod === void 0 ? void 0 : selectedPeriod.label) === period.label && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"period-locations\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"Heritage Sites from this Period\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 306,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                children: period.locations.map(location => /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: `location-item ${(selectedLocation === null || selectedLocation === void 0 ? void 0 : selectedLocation.id) === location.id ? 'selected' : ''}`,\n                  onClick: e => {\n                    e.stopPropagation();\n                    handleLocationClick(location);\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"location-info\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"location-name\",\n                      children: location.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 318,\n                      columnNumber: 33\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"location-dynasty\",\n                      children: location.dynasty\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 319,\n                      columnNumber: 33\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 317,\n                    columnNumber: 31\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"dynasty-indicator\",\n                    style: {\n                      backgroundColor: getDynastyColor(location.dynasty)\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 323,\n                    columnNumber: 31\n                  }, this)]\n                }, location.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 309,\n                  columnNumber: 29\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 23\n            }, this)]\n          }, period.label, true, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 15\n        }, this), timelinePeriods.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"timeline-empty\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"timeline-empty-icon\",\n            children: \"\\uD83D\\uDCC5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"timeline-empty-text\",\n            children: \"No timeline data available\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: retryApiLoad,\n            className: \"retry-button\",\n            children: \"Try Loading Again\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"timeline-legend\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Era Legend\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"legend-items\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"legend-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"legend-color\",\n                style: {\n                  backgroundColor: '#3f51b5'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 354,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Common Era (CE)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 355,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"legend-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"legend-color\",\n                style: {\n                  backgroundColor: '#e91e63'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 358,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Before Common Era (BCE)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 359,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 357,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 245,\n    columnNumber: 5\n  }, this);\n};\n_s(Timeline, \"uJ09LUUKPdIU1QfedXKf+LRaWPI=\", false, function () {\n  return [useMapContext];\n});\n_c = Timeline;\nexport default Timeline;\nvar _c;\n$RefreshReg$(_c, \"Timeline\");","map":{"version":3,"names":["React","useState","useEffect","useMapContext","jsxDEV","_jsxDEV","Fragment","_Fragment","Timeline","isVisible","onLocationSelect","_s","locations","selectLocation","selectedLocation","selectedPeriod","setSelectedPeriod","isExpanded","setIsExpanded","timelinePeriods","setTimelinePeriods","isLoading","setIsLoading","error","setError","dataSource","setDataSource","fetchTimelineFromAPI","response","fetch","ok","Error","status","data","json","success","periods","console","log","totalPeriods","message","length","processLocationsIntoTimeline","periodMap","Map","forEach","location","period","periodInfo","extractPeriodInfo","key","label","has","set","get","push","periodsArray","Array","from","values","sort","a","b","startYear","periodString","patterns","regex","handler","match","parseInt","endYear","era","century","pattern","handlePeriodClick","handleLocationClick","toggleExpanded","retryApiLoad","getEraColor","colors","getDynastyColor","dynasty","color","Object","entries","includes","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","map","index","style","backgroundColor","id","e","stopPropagation","name","_c","$RefreshReg$"],"sources":["D:/MY projects/CupeKG/cupe-kg-frontend/src/components/Timeline/Timeline.jsx"],"sourcesContent":["// cupe-kg-frontend/src/components/Timeline/Timeline.jsx\r\n\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useMapContext } from '../../context/MapContext';\r\nimport './Timeline.css';\r\n\r\nconst Timeline = ({ isVisible, onLocationSelect }) => {\r\n  const { locations, selectLocation, selectedLocation } = useMapContext();\r\n  const [selectedPeriod, setSelectedPeriod] = useState(null);\r\n  const [isExpanded, setIsExpanded] = useState(false);\r\n  const [timelinePeriods, setTimelinePeriods] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [dataSource, setDataSource] = useState('frontend'); // Track data source\r\n\r\n  // NEW: Fetch timeline data from backend API\r\n  const fetchTimelineFromAPI = async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      setError(null);\r\n      \r\n      const response = await fetch('/api/timeline/periods');\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n      \r\n      const data = await response.json();\r\n      \r\n      if (data.success) {\r\n        setTimelinePeriods(data.periods);\r\n        setDataSource('backend');\r\n        console.log(`Timeline: Loaded ${data.totalPeriods} periods from backend API`);\r\n      } else {\r\n        throw new Error(data.error || 'Failed to fetch timeline data');\r\n      }\r\n      \r\n    } catch (error) {\r\n      console.error('Timeline API Error:', error);\r\n      setError(error.message);\r\n      \r\n      // Fallback to frontend processing\r\n      console.log('Timeline: Falling back to frontend data processing');\r\n      if (locations.length > 0) {\r\n        const periods = processLocationsIntoTimeline(locations);\r\n        setTimelinePeriods(periods);\r\n        setDataSource('frontend-fallback');\r\n      }\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  // ENHANCED: Try API first, fallback to frontend processing\r\n  useEffect(() => {\r\n    if (isVisible) {\r\n      // Try to fetch from API first\r\n      fetchTimelineFromAPI();\r\n    }\r\n  }, [isVisible]);\r\n\r\n  // ENHANCED: Also process locations as backup/fallback\r\n  useEffect(() => {\r\n    // Only process locations if we haven't successfully loaded from API\r\n    if (locations.length > 0 && timelinePeriods.length === 0 && !isLoading) {\r\n      console.log('Timeline: Processing locations data as fallback');\r\n      const periods = processLocationsIntoTimeline(locations);\r\n      setTimelinePeriods(periods);\r\n      setDataSource('frontend');\r\n    }\r\n  }, [locations, timelinePeriods.length, isLoading]);\r\n\r\n  const processLocationsIntoTimeline = (locations) => {\r\n    const periodMap = new Map();\r\n    \r\n    locations.forEach(location => {\r\n      if (!location.period) return;\r\n      \r\n      // Extract period information\r\n      const periodInfo = extractPeriodInfo(location.period);\r\n      \r\n      periodInfo.forEach(period => {\r\n        const key = period.label;\r\n        if (!periodMap.has(key)) {\r\n          periodMap.set(key, {\r\n            ...period,\r\n            locations: []\r\n          });\r\n        }\r\n        periodMap.get(key).locations.push(location);\r\n      });\r\n    });\r\n    \r\n    // Convert to array and sort by start year\r\n    const periodsArray = Array.from(periodMap.values());\r\n    periodsArray.sort((a, b) => a.startYear - b.startYear);\r\n    \r\n    return periodsArray;\r\n  };\r\n\r\n  const extractPeriodInfo = (periodString) => {\r\n    const periods = [];\r\n    \r\n    // Handle different period formats\r\n    const patterns = [\r\n      // \"1336 CE - 1646 CE\"\r\n      {\r\n        regex: /(\\d{1,4})\\s*CE\\s*-\\s*(\\d{1,4})\\s*CE/i,\r\n        handler: (match) => ({\r\n          startYear: parseInt(match[1]),\r\n          endYear: parseInt(match[2]),\r\n          label: `${match[1]} CE - ${match[2]} CE`,\r\n          era: 'CE'\r\n        })\r\n      },\r\n      // \"13th century CE\"\r\n      {\r\n        regex: /(\\d{1,2})(?:st|nd|rd|th)\\s*century\\s*CE/i,\r\n        handler: (match) => {\r\n          const century = parseInt(match[1]);\r\n          const startYear = (century - 1) * 100 + 1;\r\n          const endYear = century * 100;\r\n          return {\r\n            startYear,\r\n            endYear,\r\n            label: `${match[1]}th Century CE`,\r\n            era: 'CE'\r\n          };\r\n        }\r\n      },\r\n      // \"950 CE - 1050 CE\"\r\n      {\r\n        regex: /(\\d{1,4})\\s*-\\s*(\\d{1,4})\\s*CE/i,\r\n        handler: (match) => ({\r\n          startYear: parseInt(match[1]),\r\n          endYear: parseInt(match[2]),\r\n          label: `${match[1]} - ${match[2]} CE`,\r\n          era: 'CE'\r\n        })\r\n      },\r\n      // Single year \"1632 CE\"\r\n      {\r\n        regex: /(\\d{1,4})\\s*CE/i,\r\n        handler: (match) => ({\r\n          startYear: parseInt(match[1]),\r\n          endYear: parseInt(match[1]) + 50, // Approximate\r\n          label: `${match[1]} CE`,\r\n          era: 'CE'\r\n        })\r\n      },\r\n      // \"2nd century BCE\"\r\n      {\r\n        regex: /(\\d{1,2})(?:st|nd|rd|th)\\s*century\\s*BCE/i,\r\n        handler: (match) => {\r\n          const century = parseInt(match[1]);\r\n          return {\r\n            startYear: -(century * 100),\r\n            endYear: -((century - 1) * 100 + 1),\r\n            label: `${match[1]}th Century BCE`,\r\n            era: 'BCE'\r\n          };\r\n        }\r\n      }\r\n    ];\r\n    \r\n    for (const pattern of patterns) {\r\n      const match = periodString.match(pattern.regex);\r\n      if (match) {\r\n        periods.push(pattern.handler(match));\r\n        break;\r\n      }\r\n    }\r\n    \r\n    // Fallback: create a general period\r\n    if (periods.length === 0) {\r\n      periods.push({\r\n        startYear: 1000, // Default\r\n        endYear: 2000,\r\n        label: periodString,\r\n        era: 'Unknown'\r\n      });\r\n    }\r\n    \r\n    return periods;\r\n  };\r\n\r\n  const handlePeriodClick = (period) => {\r\n    if (selectedPeriod?.label === period.label) {\r\n      setSelectedPeriod(null);\r\n    } else {\r\n      setSelectedPeriod(period);\r\n    }\r\n  };\r\n\r\n  const handleLocationClick = (location) => {\r\n    selectLocation(location);\r\n    if (onLocationSelect) {\r\n      onLocationSelect(location);\r\n    }\r\n  };\r\n\r\n  const toggleExpanded = () => {\r\n    setIsExpanded(!isExpanded);\r\n  };\r\n\r\n  // NEW: Retry loading from API\r\n  const retryApiLoad = () => {\r\n    setError(null);\r\n    fetchTimelineFromAPI();\r\n  };\r\n\r\n  const getEraColor = (era) => {\r\n    const colors = {\r\n      'CE': '#3f51b5',\r\n      'BCE': '#e91e63',\r\n      'Unknown': '#757575'\r\n    };\r\n    return colors[era] || colors['Unknown'];\r\n  };\r\n\r\n  const getDynastyColor = (dynasty) => {\r\n    const colors = {\r\n      'Mughal Empire': '#ff9800',\r\n      'Vijayanagara Empire': '#4caf50',\r\n      'Chandela Dynasty': '#9c27b0',\r\n      'Eastern Ganga Dynasty': '#f44336',\r\n      'Satavahana and Vakataka': '#00bcd4',\r\n      'Rashtrakuta Dynasty': '#795548',\r\n      'Delhi Sultanate': '#607d8b'\r\n    };\r\n    \r\n    // Find matching dynasty\r\n    for (const [key, color] of Object.entries(colors)) {\r\n      if (dynasty && dynasty.includes(key)) {\r\n        return color;\r\n      }\r\n    }\r\n    return '#757575';\r\n  };\r\n\r\n  if (!isVisible) return null;\r\n\r\n  return (\r\n    <div className={`timeline-container ${isExpanded ? 'expanded' : 'collapsed'}`}>\r\n      <div className=\"timeline-header\" onClick={toggleExpanded}>\r\n        <h3>Historical Timeline</h3>\r\n        {/* NEW: Data source indicator */}\r\n        <div className=\"timeline-status\">\r\n          {dataSource === 'backend' && <span className=\"data-source-indicator api\">API</span>}\r\n          {dataSource === 'frontend' && <span className=\"data-source-indicator local\">LOCAL</span>}\r\n          {dataSource === 'frontend-fallback' && <span className=\"data-source-indicator fallback\">FALLBACK</span>}\r\n        </div>\r\n        <button className=\"expand-button\" />\r\n      </div>\r\n      \r\n      {isExpanded && (\r\n        <div className=\"timeline-content\">\r\n          {/* NEW: Loading State */}\r\n          {isLoading && (\r\n            <div className=\"timeline-loading\">\r\n              <div className=\"loading-spinner\"></div>\r\n              <p>Loading timeline data...</p>\r\n            </div>\r\n          )}\r\n\r\n          {/* NEW: Error State with Retry */}\r\n          {error && !isLoading && (\r\n            <div className=\"timeline-error\">\r\n              <div className=\"error-message\">\r\n                <p>Failed to load timeline data</p>\r\n                <small>{error}</small>\r\n              </div>\r\n              <button onClick={retryApiLoad} className=\"retry-button\">\r\n                Retry\r\n              </button>\r\n            </div>\r\n          )}\r\n\r\n          {/* Timeline Periods */}\r\n          {!isLoading && !error && (\r\n            <>\r\n              <div className=\"timeline-periods\">\r\n                {timelinePeriods.map((period, index) => (\r\n                  <div \r\n                    key={period.label}\r\n                    className={`timeline-period ${selectedPeriod?.label === period.label ? 'active' : ''}`}\r\n                    onClick={() => handlePeriodClick(period)}\r\n                  >\r\n                    <div \r\n                      className=\"period-marker\"\r\n                      style={{ backgroundColor: getEraColor(period.era) }}\r\n                    />\r\n                    \r\n                    <div className=\"period-info\">\r\n                      <div className=\"period-label\">\r\n                        {period.label}\r\n                      </div>\r\n                      <div className=\"period-meta\">\r\n                        {period.locations.length} location{period.locations.length !== 1 ? 's' : ''}\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    {selectedPeriod?.label === period.label && (\r\n                      <div className=\"period-locations\">\r\n                        <h4>Heritage Sites from this Period</h4>\r\n                        <ul>\r\n                          {period.locations.map((location) => (\r\n                            <li\r\n                              key={location.id}\r\n                              className={`location-item ${selectedLocation?.id === location.id ? 'selected' : ''}`}\r\n                              onClick={(e) => {\r\n                                e.stopPropagation();\r\n                                handleLocationClick(location);\r\n                              }}\r\n                            >\r\n                              <div className=\"location-info\">\r\n                                <div className=\"location-name\">{location.name}</div>\r\n                                <div className=\"location-dynasty\">\r\n                                  {location.dynasty}\r\n                                </div>\r\n                              </div>\r\n                              <div \r\n                                className=\"dynasty-indicator\"\r\n                                style={{ backgroundColor: getDynastyColor(location.dynasty) }}\r\n                              />\r\n                            </li>\r\n                          ))}\r\n                        </ul>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n              \r\n              {/* Empty State */}\r\n              {timelinePeriods.length === 0 && (\r\n                <div className=\"timeline-empty\">\r\n                  <div className=\"timeline-empty-icon\">ðŸ“…</div>\r\n                  <div className=\"timeline-empty-text\">\r\n                    No timeline data available\r\n                  </div>\r\n                  <button onClick={retryApiLoad} className=\"retry-button\">\r\n                    Try Loading Again\r\n                  </button>\r\n                </div>\r\n              )}\r\n              \r\n              {/* Legend */}\r\n              <div className=\"timeline-legend\">\r\n                <h4>Era Legend</h4>\r\n                <div className=\"legend-items\">\r\n                  <div className=\"legend-item\">\r\n                    <div className=\"legend-color\" style={{ backgroundColor: '#3f51b5' }}></div>\r\n                    <span>Common Era (CE)</span>\r\n                  </div>\r\n                  <div className=\"legend-item\">\r\n                    <div className=\"legend-color\" style={{ backgroundColor: '#e91e63' }}></div>\r\n                    <span>Before Common Era (BCE)</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Timeline;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}