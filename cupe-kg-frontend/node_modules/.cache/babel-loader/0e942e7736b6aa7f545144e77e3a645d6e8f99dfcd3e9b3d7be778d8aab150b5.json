{"ast":null,"code":"import React from'react';import'./MessageGroup.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MessageGroup=_ref=>{let{messages,onSuggestionClick}=_ref;const formatTimestamp=timestamp=>{const now=new Date();const messageTime=new Date(timestamp);const diffInMinutes=Math.floor((now-messageTime)/(1000*60));if(diffInMinutes<1)return'Just now';if(diffInMinutes<60)return`${diffInMinutes}m ago`;if(diffInMinutes<1440)return`${Math.floor(diffInMinutes/60)}h ago`;return messageTime.toLocaleTimeString([],{hour:'2-digit',minute:'2-digit'});};const getConfidenceLevel=confidence=>{if(confidence>0.7)return'high';if(confidence>0.4)return'medium';return'low';};const getConfidenceIcon=confidence=>{if(confidence>0.7)return'‚óè';if(confidence>0.4)return'‚óê';return'‚óã';};return/*#__PURE__*/_jsx(\"div\",{className:\"message-group\",children:messages.map((message,index)=>/*#__PURE__*/_jsxs(\"div\",{className:`message ${message.type}-message ${message.confidence&&getConfidenceLevel(message.confidence)==='high'?'high-confidence':''}`,style:{animationDelay:`${index*0.1}s`,'--message-index':index},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"message-content\",children:[/*#__PURE__*/_jsx(\"p\",{children:message.text}),message.type==='bot'&&message.confidence&&/*#__PURE__*/_jsxs(\"div\",{className:\"message-confidence\",children:[/*#__PURE__*/_jsx(\"span\",{className:`confidence-indicator ${getConfidenceLevel(message.confidence)}`,children:getConfidenceIcon(message.confidence)}),/*#__PURE__*/_jsxs(\"span\",{className:\"confidence-text\",children:[Math.round(message.confidence*100),\"%\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"message-timestamp\",children:[formatTimestamp(message.timestamp),message.type==='user'&&/*#__PURE__*/_jsx(\"span\",{className:\"message-status\",children:message.status==='delivered'?'‚úì':'‚è≥'})]}),message.type==='bot'&&message.suggestions&&message.suggestions.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"message-suggestions\",children:message.suggestions.map((suggestion,suggestionIndex)=>/*#__PURE__*/_jsxs(\"button\",{className:\"suggestion-button\",onClick:()=>onSuggestionClick(suggestion),style:{animationDelay:`${index*0.1+suggestionIndex*0.05}s`},children:[/*#__PURE__*/_jsx(\"span\",{className:\"suggestion-icon\",children:\"\\uD83D\\uDCAB\"}),suggestion]},suggestionIndex))})]},message.id))});};export default MessageGroup;","map":{"version":3,"names":["React","jsx","_jsx","jsxs","_jsxs","MessageGroup","_ref","messages","onSuggestionClick","formatTimestamp","timestamp","now","Date","messageTime","diffInMinutes","Math","floor","toLocaleTimeString","hour","minute","getConfidenceLevel","confidence","getConfidenceIcon","className","children","map","message","index","type","style","animationDelay","text","round","status","suggestions","length","suggestion","suggestionIndex","onClick","id"],"sources":["D:/MY projects/CupeKG/cupe-kg-frontend/src/components/ChatInterface/MessageGroup.jsx"],"sourcesContent":["import React from 'react';\r\nimport './MessageGroup.css';\r\n\r\nconst MessageGroup = ({ messages, onSuggestionClick }) => {\r\n  const formatTimestamp = (timestamp) => {\r\n    const now = new Date();\r\n    const messageTime = new Date(timestamp);\r\n    const diffInMinutes = Math.floor((now - messageTime) / (1000 * 60));\r\n    \r\n    if (diffInMinutes < 1) return 'Just now';\r\n    if (diffInMinutes < 60) return `${diffInMinutes}m ago`;\r\n    if (diffInMinutes < 1440) return `${Math.floor(diffInMinutes / 60)}h ago`;\r\n    \r\n    return messageTime.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\r\n  };\r\n\r\n  const getConfidenceLevel = (confidence) => {\r\n    if (confidence > 0.7) return 'high';\r\n    if (confidence > 0.4) return 'medium';\r\n    return 'low';\r\n  };\r\n\r\n  const getConfidenceIcon = (confidence) => {\r\n    if (confidence > 0.7) return '‚óè';\r\n    if (confidence > 0.4) return '‚óê';\r\n    return '‚óã';\r\n  };\r\n\r\n  return (\r\n    <div className=\"message-group\">\r\n      {messages.map((message, index) => (\r\n        <div \r\n          key={message.id} \r\n          className={`message ${message.type}-message ${\r\n            message.confidence && getConfidenceLevel(message.confidence) === 'high' ? 'high-confidence' : ''\r\n          }`}\r\n          style={{ \r\n            animationDelay: `${index * 0.1}s`,\r\n            '--message-index': index \r\n          }}\r\n        >\r\n          <div className=\"message-content\">\r\n            <p>{message.text}</p>\r\n            \r\n            {/* Enhanced Confidence Indicator */}\r\n            {message.type === 'bot' && message.confidence && (\r\n              <div className=\"message-confidence\">\r\n                <span className={`confidence-indicator ${getConfidenceLevel(message.confidence)}`}>\r\n                  {getConfidenceIcon(message.confidence)}\r\n                </span>\r\n                <span className=\"confidence-text\">\r\n                  {Math.round(message.confidence * 100)}%\r\n                </span>\r\n              </div>\r\n            )}\r\n          </div>\r\n          \r\n          {/* Elegant Timestamp */}\r\n          <div className=\"message-timestamp\">\r\n            {formatTimestamp(message.timestamp)}\r\n            {message.type === 'user' && (\r\n              <span className=\"message-status\">\r\n                {message.status === 'delivered' ? '‚úì' : '‚è≥'}\r\n              </span>\r\n            )}\r\n          </div>\r\n          \r\n          {/* Dynamic Floating Suggestions */}\r\n          {message.type === 'bot' && message.suggestions && message.suggestions.length > 0 && (\r\n            <div className=\"message-suggestions\">\r\n              {message.suggestions.map((suggestion, suggestionIndex) => (\r\n                <button \r\n                  key={suggestionIndex}\r\n                  className=\"suggestion-button\"\r\n                  onClick={() => onSuggestionClick(suggestion)}\r\n                  style={{ \r\n                    animationDelay: `${(index * 0.1) + (suggestionIndex * 0.05)}s` \r\n                  }}\r\n                >\r\n                  <span className=\"suggestion-icon\">üí´</span>\r\n                  {suggestion}\r\n                </button>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MessageGroup;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}