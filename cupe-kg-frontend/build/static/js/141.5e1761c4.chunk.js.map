{"version":3,"file":"static/js/141.5e1761c4.chunk.js","mappings":"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","sources":["utils/enhancedRoutePlanner.js"],"sourcesContent":["// cupe-kg-frontend/src/utils/enhancedRoutePlanner.js\r\n// FIXED VERSION - Replace your entire enhancedRoutePlanner.js with this\r\n\r\nexport class UltraAccurateRoutePlanner {\r\n  constructor(locations, routes) {\r\n    this.locations = locations || [];\r\n    this.routes = routes || [];\r\n    \r\n    // Real distance matrix (in km) between major Indian cities\r\n    this.realDistanceMatrix = {\r\n      'delhi': {\r\n        'jaipur': 280, 'agra': 233, 'varanasi': 821, 'amritsar': 460,\r\n        'hampi': 1483, 'udaipur': 421, 'khajuraho': 620, 'bodh-gaya': 1105\r\n      },\r\n      'jaipur': {\r\n        'delhi': 280, 'udaipur': 393, 'taj-mahal': 240, 'ajanta': 739\r\n      },\r\n      'taj-mahal': {\r\n        'delhi': 233, 'jaipur': 240, 'khajuraho': 295, 'varanasi': 605\r\n      },\r\n      'varanasi': {\r\n        'delhi': 821, 'bodh-gaya': 250, 'khajuraho': 298, 'kolkata': 679,\r\n        'agra': 605\r\n      },\r\n      'bodh-gaya': {\r\n        'varanasi': 250, 'delhi': 1105, 'kolkata': 495, 'patna': 135\r\n      },\r\n      'hampi': {\r\n        'delhi': 1483, 'madurai': 440\r\n      },\r\n      'madurai': {\r\n        'hampi': 440, 'chennai': 462, 'bangalore': 460, 'kochi': 257\r\n      },\r\n      'amritsar': {\r\n        'delhi': 460, 'chandigarh': 230, 'shimla': 350\r\n      },\r\n      'udaipur': {\r\n        'jaipur': 393, 'delhi': 421, 'mumbai': 734, 'ajanta': 451\r\n      },\r\n      'konark': {\r\n        'bhubaneswar': 65, 'kolkata': 380, 'delhi': 1108\r\n      },\r\n      'ajanta': {\r\n        'ellora': 95, 'mumbai': 440, 'pune': 240, 'udaipur': 451\r\n      },\r\n      'ellora': {\r\n        'ajanta': 95, 'mumbai': 380, 'pune': 220\r\n      }\r\n    };\r\n\r\n    // Transportation costs (INR per km)\r\n    this.transportationCosts = {\r\n      'flight': 3.5,\r\n      'train': 0.75,\r\n      'bus': 0.45,\r\n      'car': 12\r\n    };\r\n\r\n    // Accommodation costs by city (per night)\r\n    this.accommodationCosts = {\r\n      'delhi': { low: 1200, medium: 3500, high: 8500 },\r\n      'jaipur': { low: 800, medium: 2500, high: 6500 },\r\n      'taj-mahal': { low: 900, medium: 2800, high: 7000 },\r\n      'varanasi': { low: 600, medium: 1800, high: 4500 },\r\n      'amritsar': { low: 700, medium: 2000, high: 5000 },\r\n      'udaipur': { low: 1000, medium: 3200, high: 8000 },\r\n      'hampi': { low: 500, medium: 1500, high: 3500 },\r\n      'madurai': { low: 600, medium: 1800, high: 4000 },\r\n      'bodh-gaya': { low: 400, medium: 1200, high: 2800 },\r\n      'konark': { low: 600, medium: 1600, high: 3500 },\r\n      'mahabalipuram': { low: 800, medium: 2200, high: 5500 },\r\n      'ajanta': { low: 600, medium: 1600, high: 3800 },\r\n      'ellora': { low: 600, medium: 1600, high: 3800 },\r\n      'khajuraho': { low: 700, medium: 2000, high: 4500 }\r\n    };\r\n\r\n    // Weather and seasonal data\r\n    this.seasonalData = {\r\n      'winter': {\r\n        months: ['Oct', 'Nov', 'Dec', 'Jan', 'Feb', 'Mar'],\r\n        bestRegions: ['north', 'central', 'west', 'south'],\r\n        temperature: { min: 10, max: 25 },\r\n        rainfall: 'minimal'\r\n      },\r\n      'summer': {\r\n        months: ['Apr', 'May', 'Jun'],\r\n        bestRegions: ['hills', 'north-east'],\r\n        avoidRegions: ['rajasthan', 'central'],\r\n        temperature: { min: 25, max: 45 },\r\n        rainfall: 'none'\r\n      },\r\n      'monsoon': {\r\n        months: ['Jul', 'Aug', 'Sep'],\r\n        bestRegions: ['western-ghats', 'caves'],\r\n        temperature: { min: 20, max: 30 },\r\n        rainfall: 'heavy'\r\n      }\r\n    };\r\n  }\r\n\r\n  // Main route creation function\r\n  createUltraAccurateRoute(preferences) {\r\n    console.log('Creating ultra-accurate route with preferences:', preferences);\r\n\r\n    const {\r\n      interests = [],\r\n      max_travel_days = 7,\r\n      budget_range = 'medium',\r\n      start_location = null,\r\n      transport_mode = 'car',\r\n      max_distance_km = 500\r\n    } = preferences;\r\n\r\n    // Step 1: Filter locations by interests\r\n    let candidateLocations = this.filterLocationsByInterests(interests);\r\n    console.log('Candidate locations found:', candidateLocations.length);\r\n\r\n    if (candidateLocations.length === 0) {\r\n      throw new Error('No locations found matching your interests');\r\n    }\r\n\r\n    // Step 2: Filter locations by distance from start location\r\n    if (start_location && max_distance_km) {\r\n      candidateLocations = this.filterLocationsByDistance(candidateLocations, start_location, max_distance_km);\r\n      console.log(`Locations within ${max_distance_km}km:`, candidateLocations.length);\r\n\r\n      if (candidateLocations.length === 0) {\r\n        throw new Error(`No locations found within ${max_distance_km}km of your starting point. Try increasing the distance limit.`);\r\n      }\r\n    }\r\n\r\n    // Step 3: Create optimized path\r\n    const optimizedPath = this.optimizePath(candidateLocations, start_location, max_travel_days, max_distance_km);\r\n    console.log('Optimized path created:', optimizedPath.length, 'locations');\r\n\r\n    if (optimizedPath.length === 0) {\r\n      throw new Error('Could not create an optimized path with your preferences');\r\n    }\r\n\r\n    // Step 4: Generate detailed itinerary\r\n    const detailedItinerary = this.createDetailedItinerary(optimizedPath, transport_mode, budget_range);\r\n\r\n    return detailedItinerary;\r\n  }\r\n\r\n  // Filter locations based on interests\r\n  filterLocationsByInterests(interests) {\r\n    if (!interests || interests.length === 0) {\r\n      return this.locations.slice(0, 8); // Return first 8 locations as default\r\n    }\r\n\r\n    const filteredLocations = this.locations.filter(location => {\r\n      const locationTags = location.tags || [];\r\n      const locationCategory = location.category || '';\r\n      const locationDescription = location.description || '';\r\n\r\n      return interests.some(interest => {\r\n        return locationTags.some(tag => tag.toLowerCase().includes(interest.toLowerCase())) ||\r\n               locationCategory.toLowerCase().includes(interest.toLowerCase()) ||\r\n               locationDescription.toLowerCase().includes(interest.toLowerCase());\r\n      });\r\n    });\r\n\r\n    // If filtered results are too few, add some popular destinations\r\n    if (filteredLocations.length < 3) {\r\n      const popularDestinations = this.locations.filter(loc =>\r\n        ['taj-mahal', 'delhi', 'jaipur', 'varanasi', 'hampi'].includes(loc.id)\r\n      );\r\n      return [...filteredLocations, ...popularDestinations].slice(0, 8);\r\n    }\r\n\r\n    return filteredLocations.slice(0, 10);\r\n  }\r\n\r\n  // Filter locations by distance from start point\r\n  filterLocationsByDistance(locations, startLocation, maxDistanceKm) {\r\n    if (!startLocation || !maxDistanceKm) {\r\n      return locations;\r\n    }\r\n\r\n    const filtered = locations.filter(location => {\r\n      const locationCoords = this.getLocationCoordinates(location);\r\n      const distance = this.calculateHaversineDistance(startLocation, locationCoords);\r\n\r\n      console.log(`Distance from start to ${location.name}: ${distance}km (max: ${maxDistanceKm}km)`);\r\n\r\n      return distance <= maxDistanceKm;\r\n    });\r\n\r\n    return filtered;\r\n  }\r\n\r\n  // Optimize path based on distance and travel time using Nearest Neighbor + 2-Opt\r\n  optimizePath(locations, startLocation, maxDays, maxDistanceKm = null) {\r\n    if (!locations || locations.length === 0) {\r\n      return [];\r\n    }\r\n\r\n    // Limit locations based on travel days (roughly 1-2 locations per day)\r\n    const maxLocations = Math.min(locations.length, Math.ceil(maxDays / 1.5));\r\n    const limitedLocations = locations.slice(0, maxLocations);\r\n\r\n    if (limitedLocations.length <= 1) {\r\n      return limitedLocations;\r\n    }\r\n\r\n    // Step 1: Use Nearest Neighbor to get initial route\r\n    const initialPath = this.nearestNeighborPath(limitedLocations, startLocation, maxDistanceKm, maxLocations);\r\n\r\n    if (initialPath.length <= 2) {\r\n      return initialPath;\r\n    }\r\n\r\n    // Step 2: Improve the route using 2-Opt algorithm\r\n    const improvedPath = this.twoOptImprovement(initialPath, startLocation);\r\n\r\n    console.log('Route optimization: Initial distance:', this.calculateTotalDistance(initialPath),\r\n                'km, Improved distance:', this.calculateTotalDistance(improvedPath), 'km');\r\n\r\n    return improvedPath;\r\n  }\r\n\r\n  // Nearest Neighbor algorithm for initial path\r\n  nearestNeighborPath(locations, startLocation, maxDistanceKm, maxLocations) {\r\n    const optimizedPath = [];\r\n    const remainingLocations = [...locations];\r\n\r\n    // Start with location closest to start point or first location\r\n    let currentLocation;\r\n    if (startLocation) {\r\n      currentLocation = this.findNearestLocation(remainingLocations, startLocation);\r\n    } else {\r\n      currentLocation = remainingLocations[0];\r\n    }\r\n\r\n    optimizedPath.push(currentLocation);\r\n    const currentIndex = remainingLocations.indexOf(currentLocation);\r\n    remainingLocations.splice(currentIndex, 1);\r\n\r\n    // Add nearest neighbors, ensuring we don't exceed max distance from start\r\n    while (remainingLocations.length > 0 && optimizedPath.length < maxLocations) {\r\n      const currentCoords = this.getLocationCoordinates(currentLocation);\r\n      let nearestLocation = null;\r\n      let shortestDistance = Infinity;\r\n\r\n      remainingLocations.forEach(loc => {\r\n        const locCoords = this.getLocationCoordinates(loc);\r\n        const distance = this.calculateHaversineDistance(currentCoords, locCoords);\r\n\r\n        // Additional check: ensure location is within max distance from start if specified\r\n        if (maxDistanceKm && startLocation) {\r\n          const distanceFromStart = this.calculateHaversineDistance(startLocation, locCoords);\r\n          if (distanceFromStart > maxDistanceKm) {\r\n            return; // Skip this location as it's beyond max distance\r\n          }\r\n        }\r\n\r\n        if (distance < shortestDistance) {\r\n          shortestDistance = distance;\r\n          nearestLocation = loc;\r\n        }\r\n      });\r\n\r\n      if (nearestLocation) {\r\n        optimizedPath.push(nearestLocation);\r\n        currentLocation = nearestLocation;\r\n        const nearestIndex = remainingLocations.indexOf(nearestLocation);\r\n        remainingLocations.splice(nearestIndex, 1);\r\n      } else {\r\n        break;\r\n      }\r\n    }\r\n\r\n    return optimizedPath;\r\n  }\r\n\r\n  // 2-Opt improvement algorithm - iteratively improves the route\r\n  twoOptImprovement(path, startLocation) {\r\n    if (path.length < 4) {\r\n      return path; // 2-opt needs at least 4 locations\r\n    }\r\n\r\n    let improved = true;\r\n    let currentPath = [...path];\r\n    let iterations = 0;\r\n    const maxIterations = 100; // Prevent infinite loops\r\n\r\n    while (improved && iterations < maxIterations) {\r\n      improved = false;\r\n      iterations++;\r\n\r\n      for (let i = 0; i < currentPath.length - 2; i++) {\r\n        for (let j = i + 2; j < currentPath.length; j++) {\r\n          // Skip if we're trying to reverse a segment that includes the start\r\n          if (startLocation && i === 0 && j === currentPath.length - 1) {\r\n            continue;\r\n          }\r\n\r\n          const newPath = this.twoOptSwap(currentPath, i, j);\r\n          const currentDistance = this.calculateTotalDistance(currentPath);\r\n          const newDistance = this.calculateTotalDistance(newPath);\r\n\r\n          if (newDistance < currentDistance) {\r\n            currentPath = newPath;\r\n            improved = true;\r\n            break;\r\n          }\r\n        }\r\n        if (improved) break;\r\n      }\r\n    }\r\n\r\n    console.log(`2-Opt completed in ${iterations} iterations`);\r\n    return currentPath;\r\n  }\r\n\r\n  // Perform 2-opt swap - reverse the segment between i and j\r\n  twoOptSwap(path, i, j) {\r\n    const newPath = [...path];\r\n\r\n    // Reverse the segment between i+1 and j\r\n    while (i + 1 < j) {\r\n      i++;\r\n      [newPath[i], newPath[j]] = [newPath[j], newPath[i]];\r\n      j--;\r\n    }\r\n\r\n    return newPath;\r\n  }\r\n\r\n  // Find nearest location to a given point\r\n  findNearestLocation(locations, point) {\r\n    let nearest = locations[0];\r\n    let shortestDistance = Infinity;\r\n\r\n    locations.forEach(location => {\r\n      const locCoords = this.getLocationCoordinates(location);\r\n      const distance = this.calculateHaversineDistance(point, locCoords);\r\n      \r\n      if (distance < shortestDistance) {\r\n        shortestDistance = distance;\r\n        nearest = location;\r\n      }\r\n    });\r\n\r\n    return nearest;\r\n  }\r\n\r\n  // Get coordinates from location object\r\n  getLocationCoordinates(location) {\r\n    if (location.coordinates) {\r\n      if (typeof location.coordinates === 'object' && location.coordinates.lat) {\r\n        return { lat: location.coordinates.lat, lng: location.coordinates.lng };\r\n      } else if (Array.isArray(location.coordinates)) {\r\n        return { lat: location.coordinates[0], lng: location.coordinates[1] };\r\n      }\r\n    }\r\n    \r\n    // Fallback coordinates if not available\r\n    return { lat: 28.6139, lng: 77.2090 }; // Delhi coordinates as fallback\r\n  }\r\n\r\n  // Calculate Haversine distance\r\n  calculateHaversineDistance(coord1, coord2) {\r\n    const R = 6371; // Earth's radius in km\r\n    const lat1 = coord1.lat || coord1[0] || 0;\r\n    const lng1 = coord1.lng || coord1[1] || 0;\r\n    const lat2 = coord2.lat || coord2[0] || 0;\r\n    const lng2 = coord2.lng || coord2[1] || 0;\r\n    \r\n    const dLat = (lat2 - lat1) * Math.PI / 180;\r\n    const dLng = (lng2 - lng1) * Math.PI / 180;\r\n    \r\n    const a = Math.sin(dLat/2) * Math.sin(dLat/2) +\r\n              Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) *\r\n              Math.sin(dLng/2) * Math.sin(dLng/2);\r\n    \r\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));\r\n    return Math.round(R * c);\r\n  }\r\n\r\n  // Create detailed itinerary\r\n  createDetailedItinerary(path, transportMode, budget) {\r\n    const itinerary = [];\r\n    let currentDay = 1;\r\n    let totalCost = 0;\r\n    \r\n    for (let i = 0; i < path.length; i++) {\r\n      const location = path[i];\r\n      const nextLocation = path[i + 1];\r\n      \r\n      // Location exploration days - THIS IS THE MISSING METHOD\r\n      const daysAtLocation = this.getOptimalDaysAtLocation(location);\r\n      const dailyCost = this.getAccommodationCost(location.id || location.name, budget) + \r\n                       this.getFoodCost(budget) + \r\n                       this.getLocalTransportCost();\r\n      \r\n      for (let day = 0; day < daysAtLocation; day++) {\r\n        const dayActivity = this.generateDayActivity(location, day, budget);\r\n        itinerary.push({\r\n          day: currentDay + day,\r\n          location: location.name,\r\n          type: 'exploration',\r\n          description: dayActivity.description,\r\n          highlights: dayActivity.highlights,\r\n          costs: {\r\n            accommodation: this.getAccommodationCost(location.id || location.name, budget),\r\n            food: this.getFoodCost(budget),\r\n            localTransport: this.getLocalTransportCost(),\r\n            attractions: dayActivity.attractionCosts,\r\n            total: dailyCost + dayActivity.attractionCosts\r\n          },\r\n          culturalInsights: this.getCulturalInsights(location),\r\n          practicalTips: this.getPracticalTips(location)\r\n        });\r\n        totalCost += dailyCost + dayActivity.attractionCosts;\r\n      }\r\n      \r\n      currentDay += daysAtLocation;\r\n      \r\n      // Travel day\r\n      if (nextLocation) {\r\n        const travelDetails = this.getAccurateTravelDetails(location, nextLocation, transportMode);\r\n        itinerary.push({\r\n          day: currentDay,\r\n          location: `${location.name} to ${nextLocation.name}`,\r\n          type: 'travel',\r\n          description: `Travel from ${location.name} to ${nextLocation.name} via ${travelDetails.mode}`,\r\n          travelDetails: travelDetails,\r\n          costs: {\r\n            transport: travelDetails.cost,\r\n            food: travelDetails.mealCost || 0,\r\n            total: travelDetails.cost + (travelDetails.mealCost || 0)\r\n          }\r\n        });\r\n        totalCost += travelDetails.cost + (travelDetails.mealCost || 0);\r\n        currentDay++;\r\n      }\r\n    }\r\n    \r\n    return {\r\n      id: `ultra-accurate-${Date.now()}`,\r\n      name: 'Your Culturally Intelligent Route',\r\n      description: `Scientifically optimized ${path.length}-destination route with cultural depth`,\r\n      color: '#2196F3',\r\n      path: path.map(loc => {\r\n        const coords = this.getLocationCoordinates(loc);\r\n        return [coords.lat, coords.lng];\r\n      }),\r\n      locations: path.map(loc => {\r\n        const coords = this.getLocationCoordinates(loc);\r\n        return {\r\n          name: loc.name,\r\n          coordinates: [coords.lat, coords.lng],\r\n          description: loc.description || 'Cultural heritage site'\r\n        };\r\n      }),\r\n      detailedItinerary: itinerary,\r\n      totalCost: Math.round(totalCost),\r\n      totalDays: currentDay - 1,\r\n      culturalThemes: this.extractCulturalThemes(path),\r\n      optimizationMetrics: {\r\n        totalDistance: this.calculateTotalDistance(path),\r\n        culturalDiversity: this.calculateCulturalDiversity(path),\r\n        costEfficiency: this.calculateCostEfficiency(totalCost, path.length)\r\n      }\r\n    };\r\n  }\r\n\r\n  // THE MISSING METHOD - Calculate optimal days at each location\r\n  getOptimalDaysAtLocation(location) {\r\n    // Default to 2 days, but adjust based on location importance and attractions\r\n    const locationName = location.name?.toLowerCase() || '';\r\n    \r\n    // Major destinations that need more time\r\n    const majorDestinations = ['delhi', 'rajasthan', 'taj mahal', 'varanasi', 'hampi'];\r\n    if (majorDestinations.some(dest => locationName.includes(dest))) {\r\n      return 3;\r\n    }\r\n    \r\n    // UNESCO sites or complex sites\r\n    const complexSites = ['ajanta', 'ellora', 'khajuraho', 'konark'];\r\n    if (complexSites.some(site => locationName.includes(site))) {\r\n      return 2;\r\n    }\r\n    \r\n    // Default for most locations\r\n    return 2;\r\n  }\r\n\r\n  // Helper methods for accurate cost calculation\r\n  getAccommodationCost(locationId, budget) {\r\n    const normalizedId = locationId?.toLowerCase().replace(/\\s+/g, '-') || 'default';\r\n    const costs = this.accommodationCosts[normalizedId] || { low: 800, medium: 2500, high: 6000 };\r\n    return costs[budget] || costs.medium;\r\n  }\r\n\r\n  getFoodCost(budget) {\r\n    const foodCosts = { low: 800, medium: 1500, high: 3000 };\r\n    return foodCosts[budget] || foodCosts.medium;\r\n  }\r\n\r\n  getLocalTransportCost() {\r\n    return 500; // Average local transport per day\r\n  }\r\n\r\n  // Generate detailed day activities\r\n  generateDayActivity(location, dayNumber, budget) {\r\n    const attractions = this.getLocationAttractions(location.id || location.name);\r\n    const selectedAttractions = attractions.slice(dayNumber * 2, (dayNumber + 1) * 2);\r\n    \r\n    return {\r\n      description: `Day ${dayNumber + 1} in ${location.name}: ${selectedAttractions.map(a => a.name).join(', ')}`,\r\n      highlights: selectedAttractions,\r\n      attractionCosts: selectedAttractions.reduce((sum, attr) => sum + (attr.entryCost || 0), 0)\r\n    };\r\n  }\r\n\r\n  // Get location-specific attractions with costs\r\n  getLocationAttractions(locationId) {\r\n    const attractions = {\r\n      'delhi': [\r\n        { name: 'Red Fort', entryCost: 35, time: '3 hours' },\r\n        { name: 'India Gate', entryCost: 0, time: '1 hour' },\r\n        { name: 'Qutub Minar', entryCost: 30, time: '2 hours' },\r\n        { name: 'Lotus Temple', entryCost: 0, time: '1 hour' }\r\n      ],\r\n      'taj-mahal': [\r\n        { name: 'Taj Mahal', entryCost: 50, time: '4 hours' },\r\n        { name: 'Agra Fort', entryCost: 40, time: '3 hours' },\r\n        { name: 'Mehtab Bagh', entryCost: 25, time: '2 hours' }\r\n      ],\r\n      'jaipur': [\r\n        { name: 'Amber Fort', entryCost: 25, time: '4 hours' },\r\n        { name: 'City Palace', entryCost: 30, time: '3 hours' },\r\n        { name: 'Hawa Mahal', entryCost: 15, time: '1 hour' }\r\n      ]\r\n    };\r\n\r\n    const normalizedId = locationId?.toLowerCase().replace(/\\s+/g, '-') || 'default';\r\n    return attractions[normalizedId] || [\r\n      { name: 'Main Attraction', entryCost: 25, time: '3 hours' },\r\n      { name: 'Local Temple', entryCost: 10, time: '2 hours' },\r\n      { name: 'Cultural Site', entryCost: 20, time: '2 hours' }\r\n    ];\r\n  }\r\n\r\n  // Get accurate travel details between locations\r\n  getAccurateTravelDetails(from, to, mode) {\r\n    const fromCoords = this.getLocationCoordinates(from);\r\n    const toCoords = this.getLocationCoordinates(to);\r\n    const distance = this.calculateHaversineDistance(fromCoords, toCoords);\r\n    \r\n    const transportMode = mode || 'car';\r\n    const costPerKm = this.transportationCosts[transportMode] || this.transportationCosts.car;\r\n    const baseCost = distance * costPerKm;\r\n    \r\n    // Calculate travel time based on mode\r\n    const speeds = { car: 60, train: 80, bus: 50, flight: 500 }; // km/h\r\n    const speed = speeds[transportMode] || speeds.car;\r\n    const travelTimeHours = Math.ceil(distance / speed);\r\n    \r\n    return {\r\n      mode: transportMode,\r\n      distance: distance,\r\n      duration: `${travelTimeHours} hours`,\r\n      cost: Math.round(baseCost),\r\n      mealCost: travelTimeHours > 4 ? 300 : 0\r\n    };\r\n  }\r\n\r\n  // Get cultural insights for location\r\n  getCulturalInsights(location) {\r\n    return [\r\n      `Rich cultural heritage dating back centuries`,\r\n      `Architectural significance in ${location.dynasty || 'regional'} style`,\r\n      `Important pilgrimage and tourism destination`\r\n    ];\r\n  }\r\n\r\n  // Get practical tips\r\n  getPracticalTips(location) {\r\n    return [\r\n      'Best visited early morning or late afternoon',\r\n      'Respect local customs and dress codes',\r\n      'Hire local guides for deeper insights',\r\n      'Carry water and comfortable walking shoes'\r\n    ];\r\n  }\r\n\r\n  // Extract cultural themes from path\r\n  extractCulturalThemes(path) {\r\n    const themes = new Set();\r\n    path.forEach(location => {\r\n      if (location.dynasty) themes.add(location.dynasty);\r\n      if (location.category) themes.add(location.category);\r\n      if (location.tags) location.tags.forEach(tag => themes.add(tag));\r\n    });\r\n    return Array.from(themes);\r\n  }\r\n\r\n  // Calculate total distance\r\n  calculateTotalDistance(path) {\r\n    let totalDistance = 0;\r\n    for (let i = 0; i < path.length - 1; i++) {\r\n      const current = this.getLocationCoordinates(path[i]);\r\n      const next = this.getLocationCoordinates(path[i + 1]);\r\n      totalDistance += this.calculateHaversineDistance(current, next);\r\n    }\r\n    return totalDistance;\r\n  }\r\n\r\n  // Calculate cultural diversity score\r\n  calculateCulturalDiversity(path) {\r\n    const themes = this.extractCulturalThemes(path);\r\n    return Math.min(themes.length * 10, 100); // Max 100%\r\n  }\r\n\r\n  // Calculate cost efficiency\r\n  calculateCostEfficiency(totalCost, numLocations) {\r\n    const costPerLocation = totalCost / numLocations;\r\n    return costPerLocation < 5000 ? 'High' : costPerLocation < 8000 ? 'Medium' : 'Low';\r\n  }\r\n}"],"names":["UltraAccurateRoutePlanner","constructor","locations","routes","this","realDistanceMatrix","transportationCosts","accommodationCosts","low","medium","high","seasonalData","months","bestRegions","temperature","min","max","rainfall","avoidRegions","createUltraAccurateRoute","preferences","console","log","interests","max_travel_days","budget_range","start_location","transport_mode","max_distance_km","candidateLocations","filterLocationsByInterests","length","Error","filterLocationsByDistance","optimizedPath","optimizePath","createDetailedItinerary","slice","filteredLocations","filter","location","locationTags","tags","locationCategory","category","locationDescription","description","some","interest","tag","toLowerCase","includes","popularDestinations","loc","id","startLocation","maxDistanceKm","locationCoords","getLocationCoordinates","distance","calculateHaversineDistance","name","maxDays","arguments","undefined","maxLocations","Math","ceil","limitedLocations","initialPath","nearestNeighborPath","improvedPath","twoOptImprovement","calculateTotalDistance","remainingLocations","currentLocation","findNearestLocation","push","currentIndex","indexOf","splice","currentCoords","nearestLocation","shortestDistance","Infinity","forEach","locCoords","nearestIndex","path","improved","currentPath","iterations","i","j","newPath","twoOptSwap","currentDistance","point","nearest","coordinates","lat","lng","Array","isArray","coord1","coord2","lat1","lng1","lat2","lng2","dLat","PI","dLng","a","sin","cos","c","atan2","sqrt","round","transportMode","budget","itinerary","currentDay","totalCost","nextLocation","daysAtLocation","getOptimalDaysAtLocation","dailyCost","getAccommodationCost","getFoodCost","getLocalTransportCost","day","dayActivity","generateDayActivity","type","highlights","costs","accommodation","food","localTransport","attractions","attractionCosts","total","culturalInsights","getCulturalInsights","practicalTips","getPracticalTips","travelDetails","getAccurateTravelDetails","mode","transport","cost","mealCost","Date","now","color","map","coords","detailedItinerary","totalDays","culturalThemes","extractCulturalThemes","optimizationMetrics","totalDistance","culturalDiversity","calculateCulturalDiversity","costEfficiency","calculateCostEfficiency","_location$name","locationName","dest","site","locationId","normalizedId","replace","foodCosts","dayNumber","selectedAttractions","getLocationAttractions","join","reduce","sum","attr","entryCost","time","from","to","fromCoords","toCoords","baseCost","car","speeds","train","bus","flight","speed","travelTimeHours","duration","dynasty","themes","Set","add","current","next","numLocations","costPerLocation"],"sourceRoot":""}